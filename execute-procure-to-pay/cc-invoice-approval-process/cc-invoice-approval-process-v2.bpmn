<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:spiffworkflow="http://spiffworkflow.org/bpmn/schema/1.0/core" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" camunda:diagramRelationId="f01e22f1-a50b-42ba-afad-22f56fc3e635">
  <bpmn:collaboration id="Collaboration_130jph2">
    <bpmn:participant id="Participant_1fsb6gv" name="Core Contributor" processRef="Process_cc_invoice_approval_process_v2_b"/>
    <bpmn:participant id="Participant_11ab2hx" name="Process management platform" processRef="Process_cc_invoice_approval_process_v2_a"/>
    <bpmn:participant id="Participant_0a8arrz" name="AWS DynamoDB"/>
    <bpmn:participant id="Participant_1qabwrg" name="AWS S3"/>
    <bpmn:participant id="Participant_0b27sri" name="Xero"/>
    <bpmn:messageFlow id="Flow_0ppupld" sourceRef="Activity_175j3o7" targetRef="Participant_0a8arrz"/>
    <bpmn:messageFlow id="Flow_0yfnc92" sourceRef="Activity_0p88elm" targetRef="Participant_1qabwrg"/>
    <bpmn:messageFlow id="Flow_0jciftq" sourceRef="Activity_0gkpa9s" targetRef="Participant_1fsb6gv"/>
    <bpmn:messageFlow id="Flow_0p0bc5u" sourceRef="Activity_0fq1nb4" targetRef="Participant_0b27sri"/>
    <bpmn:messageFlow id="Flow_0n9qxyw" sourceRef="Submit_the_invoice" targetRef="Participant_1fsb6gv"/>
    <bpmn:messageFlow id="Flow_1getkzr" sourceRef="Activity_0rae8g6" targetRef="Participant_1fsb6gv"/>
    <bpmn:messageFlow id="Flow_1dgkwzr" sourceRef="Waku_Message_Pending_Payment" targetRef="Participant_1fsb6gv"/>
    <bpmn:textAnnotation id="TextAnnotation_1uaw1w7">
      <bpmn:text>Environment - Vendor portal, Mailbox, etc.</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1eygti7" sourceRef="Participant_1fsb6gv" targetRef="TextAnnotation_1uaw1w7"/>
    <bpmn:correlationKey name="CorrelationKey_Submit_Invoice">
      <bpmn:correlationPropertyRef>CorrelationProperty_Submit_Invoice</bpmn:correlationPropertyRef>
    </bpmn:correlationKey>
  </bpmn:collaboration>
  <bpmn:process id="Process_cc_invoice_approval_process_v2_b" isExecutable="true"/>
  <bpmn:process id="Process_cc_invoice_approval_process_v2_a" isExecutable="true">
    <bpmn:laneSet id="LaneSet_0txkzqg">
      <bpmn:lane id="Lane_1a0qu8e" name="Process Initiator">
        <bpmn:flowNodeRef>Submit_the_invoice</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_validation_successful_question_mark</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1usbnt0</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>SubProcess_Data_validation_rules</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_show_errors</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_invoice_validation_failed</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1u89kok</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1r3yh2k</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_05ov5p5</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0p88elm</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_104xpp8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_109lq0m</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_10p5t0r</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1717c0p</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0gkpa9s</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1lbghql</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0x83ruk</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0m3ri6v</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1l4tz4i</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0gkejaj</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1ucvkk4</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0faln91</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0fq1nb4</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1b6tead</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_15y55nw</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Waku_Message_Pending_Payment</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0rae8g6</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1kgaqpf</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_175j3o7</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0wk5se9</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1colhao</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1b58a3z</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1so23vf" name="Finance Team">
        <bpmn:flowNodeRef>Activity_0cdgqi0</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1ytq6m7</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_11stdua</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1b7abal" name="Project Lead">
        <bpmn:flowNodeRef>Activity_06b32ar</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1t8wi0r</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_09q0ym0</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_06i3we9</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="Flow_1x4rtop" name="Yes" sourceRef="Gateway_validation_successful_question_mark" targetRef="Activity_109lq0m"/>
    <bpmn:sequenceFlow id="Flow_05ffq52" name="No" sourceRef="Gateway_validation_successful_question_mark" targetRef="Event_invoice_validation_failed">
      <bpmn:conditionExpression>not(isInvoiceSubmitPass)</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1c5u447" sourceRef="Activity_0gkejaj" targetRef="Gateway_1lbghql"/>
    <bpmn:sequenceFlow id="Flow_1gohkts" name="Yes" sourceRef="Gateway_1lbghql" targetRef="Event_0m3ri6v"/>
    <bpmn:sequenceFlow id="Flow_18xvx8w" name="yes" sourceRef="Gateway_1l4tz4i" targetRef="Activity_1kgaqpf"/>
    <bpmn:sequenceFlow id="Flow_1ex5hfx" sourceRef="Event_15y55nw" targetRef="Activity_0gkejaj"/>
    <bpmn:sequenceFlow id="Flow_16bw9hx" name="No" sourceRef="Gateway_1lbghql" targetRef="Event_0x83ruk">
      <bpmn:conditionExpression>not(isMatch)</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0bfs2xe" name="No" sourceRef="Gateway_1l4tz4i" targetRef="Activity_0rae8g6">
      <bpmn:conditionExpression>not(isInvoiceApproved)</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0c0c9mw" sourceRef="Activity_0rae8g6" targetRef="Event_1b58a3z"/>
    <bpmn:sequenceFlow id="Flow_13ng1f4" sourceRef="Event_invoice_validation_failed" targetRef="Activity_show_errors"/>
    <bpmn:sequenceFlow id="Flow_18cic3h" sourceRef="Activity_show_errors" targetRef="Gateway_0wk5se9"/>
    <bpmn:sequenceFlow id="Flow_02moyg7" sourceRef="Submit_the_invoice" targetRef="SubProcess_Data_validation_rules"/>
    <bpmn:sequenceFlow id="Flow_1ck27i7" sourceRef="SubProcess_Data_validation_rules" targetRef="Gateway_validation_successful_question_mark"/>
    <bpmn:sequenceFlow id="Flow_1v8dszb" sourceRef="Event_09q0ym0" targetRef="Activity_1t8wi0r"/>
    <bpmn:sequenceFlow id="Flow_0yvmfqu" sourceRef="Activity_06b32ar" targetRef="Gateway_06i3we9"/>
    <bpmn:sequenceFlow id="Flow_12cqm3u" sourceRef="Gateway_05ov5p5" targetRef="Activity_104xpp8"/>
    <bpmn:sequenceFlow id="Flow_0hev3yn" sourceRef="Gateway_05ov5p5" targetRef="Activity_175j3o7"/>
    <bpmn:sequenceFlow id="Flow_02o270g" sourceRef="Activity_175j3o7" targetRef="Gateway_1717c0p"/>
    <bpmn:sequenceFlow id="Flow_0o94g4u" sourceRef="Activity_0p88elm" targetRef="Gateway_1717c0p"/>
    <bpmn:sequenceFlow id="Flow_1vxagrf" sourceRef="Event_1r3yh2k" targetRef="Activity_1u89kok"/>
    <bpmn:userTask id="Submit_the_invoice" name="2. Submit the invoice" scriptFormat="python" script="SdgsdGsdhgwsDEHhww">
      <bpmn:extensionElements>
        <spiffworkflow:properties>
          <spiffworkflow:property name="formJsonSchemaFilename" value="Submit-the-invoice_JSONSchema.json"/>
          <spiffworkflow:property name="formUiSchemaFilename" value="Submit-the-invoice_UISchema.json"/>
        </spiffworkflow:properties>
        <spiffworkflow:postScript/>
        <spiffworkflow:preScript/>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_17vkjgc</bpmn:incoming>
      <bpmn:outgoing>Flow_02moyg7</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_validation_successful_question_mark" name="Successful?" default="Flow_1x4rtop">
      <bpmn:incoming>Flow_1ck27i7</bpmn:incoming>
      <bpmn:outgoing>Flow_1x4rtop</bpmn:outgoing>
      <bpmn:outgoing>Flow_05ffq52</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:subProcess id="SubProcess_Data_validation_rules" name="2b. Data validation rules">
      <bpmn:incoming>Flow_02moyg7</bpmn:incoming>
      <bpmn:outgoing>Flow_1ck27i7</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1topzui">
        <bpmn:targetRef>DataObjectReference_0bymrvr</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
      <bpmn:startEvent id="Event_1qkuk5g">
        <bpmn:outgoing>Flow_1avkxpe</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:scriptTask id="Activity_Check_Due_Date" name="Check Due Date" scriptFormat="python">
        <bpmn:incoming>Flow_18i6dlo</bpmn:incoming>
        <bpmn:outgoing>Flow_1d7sgm2</bpmn:outgoing>
        <bpmn:script>invoice_date_obj = datetime.strptime(invoice.dueDate, '%Y-%m-%d')
local_date_time_obj = datetime.strptime(local_date_str, '%Y-%m-%d')

if invoice_date_obj &gt; local_date_time_obj:
    isDueDateAfter = True
else:
    isDueDateAfter = False

# Add date of invoice
invoice["invoiceDate"] = local_date_str

ld = str(local_date_time_obj)
ido = str(invoice_date_obj)

del local_date_time_obj
del invoice_date_obj
del datetime</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:endEvent id="Event_015l7j8">
        <bpmn:incoming>Flow_0tzjowk</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1avkxpe" sourceRef="Event_1qkuk5g" targetRef="Activity_check_contributor_name"/>
      <bpmn:scriptTask id="Activity_check_contributor_name" name="Check Contributor Name" scriptFormat="python">
        <bpmn:extensionElements>
          <spiffworkflow:unitTests>
            <spiffworkflow:unitTest id="ScriptUnitTest_1kke2c8">
              <spiffworkflow:inputJson>{"invoice.contributorName": "Harmeet"}</spiffworkflow:inputJson>
              <spiffworkflow:expectedOutputJson>{
    "isNameNum": false,
    "invoice.contributorName": "Harmeet"
}</spiffworkflow:expectedOutputJson>
            </spiffworkflow:unitTest>
          <spiffworkflow:unitTest id="unit_test_PQNRHEU"><spiffworkflow:inputJson>{"addNew": false, "annual_salary": 120000, "annual_salary_str": "120000.00", "approvalComment": "", "curAmount": 1, "curAmount_str": "$1.00 USD", "curCode": "USD", "curFractionalSeparator": ".", "curName": "US Dollar", "curSymbol": "$", "curSymbolLocation": "Left", "curSymbolSpaces": 0, "curThousandsSeparator": ",", "current_user": {"id": "4", "username": "jason"}, "current_user_extras": {"bamboo_id": 109, "email": "not found", "first_name": "not found", "full_name": "not found", "project_lead_username": "not found", "status_key": "not found"}, "decimal_cnt": 0, "enumerations_list": [{"label": "Australian Dollar (AUD)", "value": "AUD"}, {"label": "Canadian Dollar (CAD)", "value": "CAD"}, {"label": "Pound sterling (GBP)", "value": "GBP"}, {"label": "Singapore Dollar (SGD)", "value": "SGD"}, {"label": "US Dollar (USD)", "value": "USD"}], "filesAccept": "data:application/pdf;name=test.pdf;base64,JVBERi0xLjINJeLjz9MNCjMgMCBvYmoNPDwgDS9MaW5lYXJpemVkIDEgDS9PIDUgDS9IIFsgNzYwIDE1NyBdIA0vTCAzOTA4IA0vRSAzNjU4IA0vTiAxIA0vVCAzNzMxIA0+PiANZW5kb2JqDSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4cmVmDTMgMTUgDTAwMDAwMDAwMTYgMDAwMDAgbg0KMDAwMDAwMDY0NCAwMDAwMCBuDQowMDAwMDAwOTE3IDAwMDAwIG4NCjAwMDAwMDEwNjggMDAwMDAgbg0KMDAwMDAwMTIyNCAwMDAwMCBuDQowMDAwMDAxNDEwIDAwMDAwIG4NCjAwMDAwMDE1ODkgMDAwMDAgbg0KMDAwMDAwMTc2OCAwMDAwMCBuDQowMDAwMDAyMTk3IDAwMDAwIG4NCjAwMDAwMDIzODMgMDAwMDAgbg0KMDAwMDAwMjc2OSAwMDAwMCBuDQowMDAwMDAzMTcyIDAwMDAwIG4NCjAwMDAwMDMzNTEgMDAwMDAgbg0KMDAwMDAwMDc2MCAwMDAwMCBuDQowMDAwMDAwODk3IDAwMDAwIG4NCnRyYWlsZXINPDwNL1NpemUgMTgNL0luZm8gMSAwIFIgDS9Sb290IDQgMCBSIA0vUHJldiAzNzIyIA0vSURbPGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPjxkNzBmNDZjNWJhNGZlOGJkNDlhOWRkMDU5OWIwYjE1MT5dDT4+DXN0YXJ0eHJlZg0wDSUlRU9GDSAgICAgIA00IDAgb2JqDTw8IA0vVHlwZSAvQ2F0YWxvZyANL1BhZ2VzIDIgMCBSIA0vT3BlbkFjdGlvbiBbIDUgMCBSIC9YWVogbnVsbCBudWxsIG51bGwgXSANL1BhZ2VNb2RlIC9Vc2VOb25lIA0+PiANZW5kb2JqDTE2IDAgb2JqDTw8IC9TIDM2IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlIC9MZW5ndGggMTcgMCBSID4+IA1zdHJlYW0NCkiJYmBg4GVgYPrBAAScFxiwAQ4oLQDE3FDMwODHwKkyubctWLfmpsmimQ5AEYAAAwC3vwe0DWVuZHN0cmVhbQ1lbmRvYmoNMTcgMCBvYmoNNTMgDWVuZG9iag01IDAgb2JqDTw8IA0vVHlwZSAvUGFnZSANL1BhcmVudCAyIDAgUiANL1Jlc291cmNlcyA2IDAgUiANL0NvbnRlbnRzIDEwIDAgUiANL01lZGlhQm94IFsgMCAwIDYxMiA3OTIgXSANL0Nyb3BCb3ggWyAwIDAgNjEyIDc5MiBdIA0vUm90YXRlIDAgDT4+IA1lbmRvYmoNNiAwIG9iag08PCANL1Byb2NTZXQgWyAvUERGIC9UZXh0IF0gDS9Gb250IDw8IC9UVDIgOCAwIFIgL1RUNCAxMiAwIFIgL1RUNiAxMyAwIFIgPj4gDS9FeHRHU3RhdGUgPDwgL0dTMSAxNSAwIFIgPj4gDS9Db2xvclNwYWNlIDw8IC9DczUgOSAwIFIgPj4gDT4+IA1lbmRvYmoNNyAwIG9iag08PCANL1R5cGUgL0ZvbnREZXNjcmlwdG9yIA0vQXNjZW50IDg5MSANL0NhcEhlaWdodCAwIA0vRGVzY2VudCAtMjE2IA0vRmxhZ3MgMzQgDS9Gb250QkJveCBbIC01NjggLTMwNyAyMDI4IDEwMDcgXSANL0ZvbnROYW1lIC9UaW1lc05ld1JvbWFuIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNOCAwIG9iag08PCANL1R5cGUgL0ZvbnQgDS9TdWJ0eXBlIC9UcnVlVHlwZSANL0ZpcnN0Q2hhciAzMiANL0xhc3RDaGFyIDMyIA0vV2lkdGhzIFsgMjUwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL1RpbWVzTmV3Um9tYW4gDS9Gb250RGVzY3JpcHRvciA3IDAgUiANPj4gDWVuZG9iag05IDAgb2JqDVsgDS9DYWxSR0IgPDwgL1doaXRlUG9pbnQgWyAwLjk1MDUgMSAxLjA4OSBdIC9HYW1tYSBbIDIuMjIyMjEgMi4yMjIyMSAyLjIyMjIxIF0gDS9NYXRyaXggWyAwLjQxMjQgMC4yMTI2IDAuMDE5MyAwLjM1NzYgMC43MTUxOSAwLjExOTIgMC4xODA1IDAuMDcyMiAwLjk1MDUgXSA+PiANDV0NZW5kb2JqDTEwIDAgb2JqDTw8IC9MZW5ndGggMzU1IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+IA1zdHJlYW0NCkiJdJDBTsMwEETv/oo92ohuvXHsJEeggOCEwDfEIU1SCqIJIimIv2dthyJVQpGc0Xo88+xzL5beZ0DgN4IIq6oCzd8sK43amAyK3GKmTQV+J5YXo4VmjDYNYyOW1w8Ez6PQ4JuwfAkJyr+yXNgSSwt+NU+4Kp+rcg4uy9Q1a6MdarLcpgvUeUGh7RBFSLk1f1n+5FgsHJaZttFqA+tKLJhfZ3kEY+VcoHuUfvui2O3kCL9COSwk1Ok3deMEd6srUCVa2Q7Nftf1Ewar5a4nfxuu4v59NcLMGAKXlcjMLtwj1BsTQCITUSK52cC3IoNGDnto6l5VmEv4YAwjO8VWJ+s2DSeGttw/qmA/PZyLu3vY1p9p0MGZIs2iHdZxjwdNSkzedT0pJiW+CWl5H0O7uu2SB1JLn8rHlMkH2F+/xa20Rjp+nAQ39Ec8c1gz7KJ4T3H7uXnuwvSWl178CDAA/bGPlAplbmRzdHJlYW0NZW5kb2JqDTExIDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTYyOCAtMzc2IDIwMzQgMTA0OCBdIA0vRm9udE5hbWUgL0FyaWFsLEJvbGQgDS9JdGFsaWNBbmdsZSAwIA0vU3RlbVYgMTMzIA0+PiANZW5kb2JqDTEyIDAgb2JqDTw8IA0vVHlwZSAvRm9udCANL1N1YnR5cGUgL1RydWVUeXBlIA0vRmlyc3RDaGFyIDMyIA0vTGFzdENoYXIgMTE3IA0vV2lkdGhzIFsgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgDTAgMCAwIDAgMCA3MjIgMCA2MTEgMCAwIDAgMCAwIDAgMCAwIDAgNjY3IDAgMCAwIDYxMSAwIDAgMCAwIDAgMCANMCAwIDAgMCAwIDAgNTU2IDAgNTU2IDYxMSA1NTYgMCAwIDYxMSAyNzggMCAwIDAgODg5IDYxMSA2MTEgMCAwIA0wIDU1NiAzMzMgNjExIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsLEJvbGQgDS9Gb250RGVzY3JpcHRvciAxMSAwIFIgDT4+IA1lbmRvYmoNMTMgMCBvYmoNPDwgDS9UeXBlIC9Gb250IA0vU3VidHlwZSAvVHJ1ZVR5cGUgDS9GaXJzdENoYXIgMzIgDS9MYXN0Q2hhciAxMjEgDS9XaWR0aHMgWyAyNzggMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDI3OCAwIDI3OCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCANMCAwIDAgNjY3IDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCA3MjIgMCAwIDAgMCAwIDAgMCAwIA0wIDAgMCAwIDAgMCA1NTYgNTU2IDUwMCA1NTYgNTU2IDI3OCAwIDU1NiAyMjIgMCAwIDIyMiA4MzMgNTU2IDU1NiANNTU2IDAgMzMzIDUwMCAyNzggNTU2IDUwMCAwIDAgNTAwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsIA0vRm9udERlc2NyaXB0b3IgMTQgMCBSIA0+PiANZW5kb2JqDTE0IDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTY2NSAtMzI1IDIwMjggMTAzNyBdIA0vRm9udE5hbWUgL0FyaWFsIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNMTUgMCBvYmoNPDwgDS9UeXBlIC9FeHRHU3RhdGUgDS9TQSBmYWxzZSANL1NNIDAuMDIgDS9UUiAvSWRlbnRpdHkgDT4+IA1lbmRvYmoNMSAwIG9iag08PCANL1Byb2R1Y2VyIChBY3JvYmF0IERpc3RpbGxlciA0LjA1IGZvciBXaW5kb3dzKQ0vQ3JlYXRvciAoTWljcm9zb2Z0IFdvcmQgOS4wKQ0vTW9kRGF0ZSAoRDoyMDAxMDgyOTA5NTUwMS0wNycwMCcpDS9BdXRob3IgKEdlbmUgQnJ1bWJsYXkpDS9UaXRsZSAoVGhpcyBpcyBhIHRlc3QgUERGIGRvY3VtZW50KQ0vQ3JlYXRpb25EYXRlIChEOjIwMDEwODI5MDk1NDU3KQ0+PiANZW5kb2JqDTIgMCBvYmoNPDwgDS9UeXBlIC9QYWdlcyANL0tpZHMgWyA1IDAgUiBdIA0vQ291bnQgMSANPj4gDWVuZG9iag14cmVmDTAgMyANMDAwMDAwMDAwMCA2NTUzNSBmDQowMDAwMDAzNDI5IDAwMDAwIG4NCjAwMDAwMDM2NTggMDAwMDAgbg0KdHJhaWxlcg08PA0vU2l6ZSAzDS9JRFs8ZDcwZjQ2YzViYTRmZThiZDQ5YTlkZDA1OTliMGIxNTE+PGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPl0NPj4Nc3RhcnR4cmVmDTE3Mw0lJUVPRg0=", "find_user": "manuchehr", "ido": "2022-12-31 00:00:00", "invoice": {"commentsFinance": "", "commentsProjectLead": " ", "contributorId": 1, "contributorName": "Harmeet", "dueDate": "2022-12-31", "invoiceAmount": 1, "invoiceAmount_str": "$1.00 USD", "invoiceCurrency": "USD", "invoiceDate": "2022-10-26", "invoiceId": 1, "invoiceStatus": "Rejected by Finance Team", "isProjectLeadApprove": true}, "invoiceAmount_str": "1", "invoice_amount": 1, "invoice_file_name": "Harmeet_1.pdf", "isApprovalTimer": false, "isCurTest": false, "isCurrentUser": false, "isDueDateAfter": true, "isInvoiceApproved": false, "isInvoiceSubmitPass": true, "isMatch": false, "isNameNum": false, "isSetMessage": false, "ld": "2022-10-26 00:00:00", "local_date_str": "2022-10-26", "local_time_str": "07:07 PM", "n": 5, "process": {"group_id": "execute-procure-to-pay", "model_id": "cc-invoice-approval-process"}, "process_instance_id": 68, "project_lead_info": {"email": "manuchehr@status.im", "first_name": "Manuchehr", "full_name": "Manuchehr Ebrahimi", "status_key": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "team_lead_username": "alex"}, "respNotifyTeamLead": {"id": 1, "jsonrpc": "2.0", "result": {"chats": [{"ReadMessagesAtClockValue": 0, "active": true, "alias": "Nutty Yearly Copepod", "chatType": 1, "color": "", "deletedAtClockValue": 0, "description": "", "emoji": "", "highlight": true, "id": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAk0lEQVR4nOzX0QmAMAwAURV3cR2HcQyHcR2n0QWMpEjlCPe+8+ERCHYaijCExhAaQ2gMoSkTMmcHj/28+n7Ks3VbxsxcmY0YQmMITeoivImuWXRtWuezymzEEBpDaNL/Wq3+/jcrsxFDaAyhMYTGEBpDaD6/ECO9XoKRMhsxhMYQdVJmI4bQGEJjCI0hNHcAAAD//7ORE3nYZhcbAAAAAElFTkSuQmCC", "joined": 1666724872292, "lastClockValue": 1666811246152, "lastMessage": {"alias": "Elderly Some Finnishspitz", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAjUlEQVR4nOzWwQmEMBQG4V2xF/uxFsuwFvuxGr2HBIQkMPzMdxQJGR48svxCGEJjCI0hNIbQxISsX388r/upfT/27T/iIr3nx0zEEBpDaIZsnJrZW64UMxFDaAyh6X5rtbS206hzSjETMYTGEBrfWjSG0BhCYwiNITSGaJKYiRhCYwiNITSG0LwBAAD//31KGGXrn7nYAAAAAElFTkSuQmCC", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}, "members": null, "membershipUpdateEvents": null, "muted": false, "name": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "syncedFrom": 1666638472, "syncedTo": 1666638472, "timestamp": 1666811246168, "unviewedMentionsCount": 0, "unviewedMessagesCount": 0}], "discordOldestMessageTimestamp": 0, "messages": [{"alias": "", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "gapParameters": {}, "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}], "notifications": null}}, "resp_AddDynamoItem": {}, "resp_BambooPayRate": {"amount": "120000.00", "currency": "AUD", "id": "109", "payRate": "120000.00 AUD"}, "resp_BambooUserInfo": {"id": "109", "supervisorEid": "110", "supervisorEmail": "manuchehr@status.im", "supervisorId": "321"}, "resp_QuertInvoiceDetails": {"Count": 1, "Items": [{"ContributorId": 1, "ContributorName": "Harmeet", "DueDate": "2022-12-31", "InvoiceAmount": 1, "InvoiceCurrency": "USD", "InvoiceId": 1}], "ScannedCount": 1}, "spiff__Activity_0p88elm_result": {"result": "success"}, "submitInvoiceValidationMessage": "No numbers in name, involce amount decimal places not greated than two, invoice due date after today's date", "task_id": "waku_invoice_rejected-Finance", "userBambooId": 110, "userBambooId_str": "110", "userKeycloak": "manuchehr", "validate_only": false, "waku_message": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Approved\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_body": "Hi not found, your invoice has been rejected by Finance. The reason specified for the rejection is: [", "waku_message_footer": "\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_timestamp": "\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -", "waku_message_variables": "\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Rejected by Finance Team\nProject Lead Comments:  ", "whichSubject": "Currency", "wr_InvoiceSubmitted": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}, "wr_notifyFinance": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}}</spiffworkflow:inputJson><spiffworkflow:expectedOutputJson>{"addNew": false, "annual_salary": 120000, "annual_salary_str": "120000.00", "approvalComment": "", "curAmount": 1, "curAmount_str": "$1.00 USD", "curCode": "USD", "curFractionalSeparator": ".", "curName": "US Dollar", "curSymbol": "$", "curSymbolLocation": "Left", "curSymbolSpaces": 0, "curThousandsSeparator": ",", "current_user": {"id": "4", "username": "jason"}, "current_user_extras": {"bamboo_id": 109, "email": "not found", "first_name": "not found", "full_name": "not found", "project_lead_username": "not found", "status_key": "not found"}, "decimal_cnt": 0, "enumerations_list": [{"label": "Australian Dollar (AUD)", "value": "AUD"}, {"label": "Canadian Dollar (CAD)", "value": "CAD"}, {"label": "Pound sterling (GBP)", "value": "GBP"}, {"label": "Singapore Dollar (SGD)", "value": "SGD"}, {"label": "US Dollar (USD)", "value": "USD"}], "filesAccept": "data:application/pdf;name=test.pdf;base64,JVBERi0xLjINJeLjz9MNCjMgMCBvYmoNPDwgDS9MaW5lYXJpemVkIDEgDS9PIDUgDS9IIFsgNzYwIDE1NyBdIA0vTCAzOTA4IA0vRSAzNjU4IA0vTiAxIA0vVCAzNzMxIA0+PiANZW5kb2JqDSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4cmVmDTMgMTUgDTAwMDAwMDAwMTYgMDAwMDAgbg0KMDAwMDAwMDY0NCAwMDAwMCBuDQowMDAwMDAwOTE3IDAwMDAwIG4NCjAwMDAwMDEwNjggMDAwMDAgbg0KMDAwMDAwMTIyNCAwMDAwMCBuDQowMDAwMDAxNDEwIDAwMDAwIG4NCjAwMDAwMDE1ODkgMDAwMDAgbg0KMDAwMDAwMTc2OCAwMDAwMCBuDQowMDAwMDAyMTk3IDAwMDAwIG4NCjAwMDAwMDIzODMgMDAwMDAgbg0KMDAwMDAwMjc2OSAwMDAwMCBuDQowMDAwMDAzMTcyIDAwMDAwIG4NCjAwMDAwMDMzNTEgMDAwMDAgbg0KMDAwMDAwMDc2MCAwMDAwMCBuDQowMDAwMDAwODk3IDAwMDAwIG4NCnRyYWlsZXINPDwNL1NpemUgMTgNL0luZm8gMSAwIFIgDS9Sb290IDQgMCBSIA0vUHJldiAzNzIyIA0vSURbPGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPjxkNzBmNDZjNWJhNGZlOGJkNDlhOWRkMDU5OWIwYjE1MT5dDT4+DXN0YXJ0eHJlZg0wDSUlRU9GDSAgICAgIA00IDAgb2JqDTw8IA0vVHlwZSAvQ2F0YWxvZyANL1BhZ2VzIDIgMCBSIA0vT3BlbkFjdGlvbiBbIDUgMCBSIC9YWVogbnVsbCBudWxsIG51bGwgXSANL1BhZ2VNb2RlIC9Vc2VOb25lIA0+PiANZW5kb2JqDTE2IDAgb2JqDTw8IC9TIDM2IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlIC9MZW5ndGggMTcgMCBSID4+IA1zdHJlYW0NCkiJYmBg4GVgYPrBAAScFxiwAQ4oLQDE3FDMwODHwKkyubctWLfmpsmimQ5AEYAAAwC3vwe0DWVuZHN0cmVhbQ1lbmRvYmoNMTcgMCBvYmoNNTMgDWVuZG9iag01IDAgb2JqDTw8IA0vVHlwZSAvUGFnZSANL1BhcmVudCAyIDAgUiANL1Jlc291cmNlcyA2IDAgUiANL0NvbnRlbnRzIDEwIDAgUiANL01lZGlhQm94IFsgMCAwIDYxMiA3OTIgXSANL0Nyb3BCb3ggWyAwIDAgNjEyIDc5MiBdIA0vUm90YXRlIDAgDT4+IA1lbmRvYmoNNiAwIG9iag08PCANL1Byb2NTZXQgWyAvUERGIC9UZXh0IF0gDS9Gb250IDw8IC9UVDIgOCAwIFIgL1RUNCAxMiAwIFIgL1RUNiAxMyAwIFIgPj4gDS9FeHRHU3RhdGUgPDwgL0dTMSAxNSAwIFIgPj4gDS9Db2xvclNwYWNlIDw8IC9DczUgOSAwIFIgPj4gDT4+IA1lbmRvYmoNNyAwIG9iag08PCANL1R5cGUgL0ZvbnREZXNjcmlwdG9yIA0vQXNjZW50IDg5MSANL0NhcEhlaWdodCAwIA0vRGVzY2VudCAtMjE2IA0vRmxhZ3MgMzQgDS9Gb250QkJveCBbIC01NjggLTMwNyAyMDI4IDEwMDcgXSANL0ZvbnROYW1lIC9UaW1lc05ld1JvbWFuIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNOCAwIG9iag08PCANL1R5cGUgL0ZvbnQgDS9TdWJ0eXBlIC9UcnVlVHlwZSANL0ZpcnN0Q2hhciAzMiANL0xhc3RDaGFyIDMyIA0vV2lkdGhzIFsgMjUwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL1RpbWVzTmV3Um9tYW4gDS9Gb250RGVzY3JpcHRvciA3IDAgUiANPj4gDWVuZG9iag05IDAgb2JqDVsgDS9DYWxSR0IgPDwgL1doaXRlUG9pbnQgWyAwLjk1MDUgMSAxLjA4OSBdIC9HYW1tYSBbIDIuMjIyMjEgMi4yMjIyMSAyLjIyMjIxIF0gDS9NYXRyaXggWyAwLjQxMjQgMC4yMTI2IDAuMDE5MyAwLjM1NzYgMC43MTUxOSAwLjExOTIgMC4xODA1IDAuMDcyMiAwLjk1MDUgXSA+PiANDV0NZW5kb2JqDTEwIDAgb2JqDTw8IC9MZW5ndGggMzU1IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+IA1zdHJlYW0NCkiJdJDBTsMwEETv/oo92ohuvXHsJEeggOCEwDfEIU1SCqIJIimIv2dthyJVQpGc0Xo88+xzL5beZ0DgN4IIq6oCzd8sK43amAyK3GKmTQV+J5YXo4VmjDYNYyOW1w8Ez6PQ4JuwfAkJyr+yXNgSSwt+NU+4Kp+rcg4uy9Q1a6MdarLcpgvUeUGh7RBFSLk1f1n+5FgsHJaZttFqA+tKLJhfZ3kEY+VcoHuUfvui2O3kCL9COSwk1Ok3deMEd6srUCVa2Q7Nftf1Ewar5a4nfxuu4v59NcLMGAKXlcjMLtwj1BsTQCITUSK52cC3IoNGDnto6l5VmEv4YAwjO8VWJ+s2DSeGttw/qmA/PZyLu3vY1p9p0MGZIs2iHdZxjwdNSkzedT0pJiW+CWl5H0O7uu2SB1JLn8rHlMkH2F+/xa20Rjp+nAQ39Ec8c1gz7KJ4T3H7uXnuwvSWl178CDAA/bGPlAplbmRzdHJlYW0NZW5kb2JqDTExIDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTYyOCAtMzc2IDIwMzQgMTA0OCBdIA0vRm9udE5hbWUgL0FyaWFsLEJvbGQgDS9JdGFsaWNBbmdsZSAwIA0vU3RlbVYgMTMzIA0+PiANZW5kb2JqDTEyIDAgb2JqDTw8IA0vVHlwZSAvRm9udCANL1N1YnR5cGUgL1RydWVUeXBlIA0vRmlyc3RDaGFyIDMyIA0vTGFzdENoYXIgMTE3IA0vV2lkdGhzIFsgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgDTAgMCAwIDAgMCA3MjIgMCA2MTEgMCAwIDAgMCAwIDAgMCAwIDAgNjY3IDAgMCAwIDYxMSAwIDAgMCAwIDAgMCANMCAwIDAgMCAwIDAgNTU2IDAgNTU2IDYxMSA1NTYgMCAwIDYxMSAyNzggMCAwIDAgODg5IDYxMSA2MTEgMCAwIA0wIDU1NiAzMzMgNjExIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsLEJvbGQgDS9Gb250RGVzY3JpcHRvciAxMSAwIFIgDT4+IA1lbmRvYmoNMTMgMCBvYmoNPDwgDS9UeXBlIC9Gb250IA0vU3VidHlwZSAvVHJ1ZVR5cGUgDS9GaXJzdENoYXIgMzIgDS9MYXN0Q2hhciAxMjEgDS9XaWR0aHMgWyAyNzggMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDI3OCAwIDI3OCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCANMCAwIDAgNjY3IDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCA3MjIgMCAwIDAgMCAwIDAgMCAwIA0wIDAgMCAwIDAgMCA1NTYgNTU2IDUwMCA1NTYgNTU2IDI3OCAwIDU1NiAyMjIgMCAwIDIyMiA4MzMgNTU2IDU1NiANNTU2IDAgMzMzIDUwMCAyNzggNTU2IDUwMCAwIDAgNTAwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsIA0vRm9udERlc2NyaXB0b3IgMTQgMCBSIA0+PiANZW5kb2JqDTE0IDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTY2NSAtMzI1IDIwMjggMTAzNyBdIA0vRm9udE5hbWUgL0FyaWFsIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNMTUgMCBvYmoNPDwgDS9UeXBlIC9FeHRHU3RhdGUgDS9TQSBmYWxzZSANL1NNIDAuMDIgDS9UUiAvSWRlbnRpdHkgDT4+IA1lbmRvYmoNMSAwIG9iag08PCANL1Byb2R1Y2VyIChBY3JvYmF0IERpc3RpbGxlciA0LjA1IGZvciBXaW5kb3dzKQ0vQ3JlYXRvciAoTWljcm9zb2Z0IFdvcmQgOS4wKQ0vTW9kRGF0ZSAoRDoyMDAxMDgyOTA5NTUwMS0wNycwMCcpDS9BdXRob3IgKEdlbmUgQnJ1bWJsYXkpDS9UaXRsZSAoVGhpcyBpcyBhIHRlc3QgUERGIGRvY3VtZW50KQ0vQ3JlYXRpb25EYXRlIChEOjIwMDEwODI5MDk1NDU3KQ0+PiANZW5kb2JqDTIgMCBvYmoNPDwgDS9UeXBlIC9QYWdlcyANL0tpZHMgWyA1IDAgUiBdIA0vQ291bnQgMSANPj4gDWVuZG9iag14cmVmDTAgMyANMDAwMDAwMDAwMCA2NTUzNSBmDQowMDAwMDAzNDI5IDAwMDAwIG4NCjAwMDAwMDM2NTggMDAwMDAgbg0KdHJhaWxlcg08PA0vU2l6ZSAzDS9JRFs8ZDcwZjQ2YzViYTRmZThiZDQ5YTlkZDA1OTliMGIxNTE+PGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPl0NPj4Nc3RhcnR4cmVmDTE3Mw0lJUVPRg0=", "find_user": "manuchehr", "ido": "2022-12-31 00:00:00", "invoice": {"commentsFinance": "", "commentsProjectLead": " ", "contributorId": 1, "contributorName": "Harmeet", "dueDate": "2022-12-31", "invoiceAmount": 1, "invoiceAmount_str": "$1.00 USD", "invoiceCurrency": "USD", "invoiceDate": "2022-10-26", "invoiceId": 1, "invoiceStatus": "Rejected by Finance Team", "isProjectLeadApprove": true}, "invoiceAmount_str": "1", "invoice_amount": 1, "invoice_file_name": "Harmeet_1.pdf", "isApprovalTimer": false, "isCurTest": false, "isCurrentUser": false, "isDueDateAfter": true, "isInvoiceApproved": false, "isInvoiceSubmitPass": true, "isMatch": false, "isNameNum": false, "isSetMessage": false, "ld": "2022-10-26 00:00:00", "local_date_str": "2022-10-26", "local_time_str": "07:07 PM", "n": 5, "process": {"group_id": "execute-procure-to-pay", "model_id": "cc-invoice-approval-process"}, "process_instance_id": 68, "project_lead_info": {"email": "manuchehr@status.im", "first_name": "Manuchehr", "full_name": "Manuchehr Ebrahimi", "status_key": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "team_lead_username": "alex"}, "respNotifyTeamLead": {"id": 1, "jsonrpc": "2.0", "result": {"chats": [{"ReadMessagesAtClockValue": 0, "active": true, "alias": "Nutty Yearly Copepod", "chatType": 1, "color": "", "deletedAtClockValue": 0, "description": "", "emoji": "", "highlight": true, "id": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAk0lEQVR4nOzX0QmAMAwAURV3cR2HcQyHcR2n0QWMpEjlCPe+8+ERCHYaijCExhAaQ2gMoSkTMmcHj/28+n7Ks3VbxsxcmY0YQmMITeoivImuWXRtWuezymzEEBpDaNL/Wq3+/jcrsxFDaAyhMYTGEBpDaD6/ECO9XoKRMhsxhMYQdVJmI4bQGEJjCI0hNHcAAAD//7ORE3nYZhcbAAAAAElFTkSuQmCC", "joined": 1666724872292, "lastClockValue": 1666811246152, "lastMessage": {"alias": "Elderly Some Finnishspitz", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAjUlEQVR4nOzWwQmEMBQG4V2xF/uxFsuwFvuxGr2HBIQkMPzMdxQJGR48svxCGEJjCI0hNIbQxISsX388r/upfT/27T/iIr3nx0zEEBpDaIZsnJrZW64UMxFDaAyh6X5rtbS206hzSjETMYTGEBrfWjSG0BhCYwiNITSGaJKYiRhCYwiNITSG0LwBAAD//31KGGXrn7nYAAAAAElFTkSuQmCC", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}, "members": null, "membershipUpdateEvents": null, "muted": false, "name": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "syncedFrom": 1666638472, "syncedTo": 1666638472, "timestamp": 1666811246168, "unviewedMentionsCount": 0, "unviewedMessagesCount": 0}], "discordOldestMessageTimestamp": 0, "messages": [{"alias": "", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "gapParameters": {}, "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}], "notifications": null}}, "resp_AddDynamoItem": {}, "resp_BambooPayRate": {"amount": "120000.00", "currency": "AUD", "id": "109", "payRate": "120000.00 AUD"}, "resp_BambooUserInfo": {"id": "109", "supervisorEid": "110", "supervisorEmail": "manuchehr@status.im", "supervisorId": "321"}, "resp_QuertInvoiceDetails": {"Count": 1, "Items": [{"ContributorId": 1, "ContributorName": "Harmeet", "DueDate": "2022-12-31", "InvoiceAmount": 1, "InvoiceCurrency": "USD", "InvoiceId": 1}], "ScannedCount": 1}, "spiff__Activity_0p88elm_result": {"result": "success"}, "submitInvoiceValidationMessage": "No numbers in name, involce amount decimal places not greated than two, invoice due date after today's date", "task_id": "waku_invoice_rejected-Finance", "userBambooId": 110, "userBambooId_str": "110", "userKeycloak": "manuchehr", "validate_only": false, "waku_message": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Approved\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_body": "Hi not found, your invoice has been rejected by Finance. The reason specified for the rejection is: [", "waku_message_footer": "\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_timestamp": "\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -", "waku_message_variables": "\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Rejected by Finance Team\nProject Lead Comments:  ", "whichSubject": "Currency", "wr_InvoiceSubmitted": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}, "wr_notifyFinance": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}}</spiffworkflow:expectedOutputJson></spiffworkflow:unitTest><spiffworkflow:unitTest id="unit_test_H3F04IH"><spiffworkflow:inputJson>{"addNew": false, "annual_salary": 120000, "annual_salary_str": "120000.00", "approvalComment": "", "curAmount": 1, "curAmount_str": "$1.00 USD", "curCode": "USD", "curFractionalSeparator": ".", "curName": "US Dollar", "curSymbol": "$", "curSymbolLocation": "Left", "curSymbolSpaces": 0, "curThousandsSeparator": ",", "current_user": {"id": "4", "username": "jason"}, "current_user_extras": {"bamboo_id": 109, "email": "not found", "first_name": "not found", "full_name": "not found", "project_lead_username": "not found", "status_key": "not found"}, "decimal_cnt": 0, "enumerations_list": [{"label": "Australian Dollar (AUD)", "value": "AUD"}, {"label": "Canadian Dollar (CAD)", "value": "CAD"}, {"label": "Pound sterling (GBP)", "value": "GBP"}, {"label": "Singapore Dollar (SGD)", "value": "SGD"}, {"label": "US Dollar (USD)", "value": "USD"}], "filesAccept": "data:application/pdf;name=test.pdf;base64,JVBERi0xLjINJeLjz9MNCjMgMCBvYmoNPDwgDS9MaW5lYXJpemVkIDEgDS9PIDUgDS9IIFsgNzYwIDE1NyBdIA0vTCAzOTA4IA0vRSAzNjU4IA0vTiAxIA0vVCAzNzMxIA0+PiANZW5kb2JqDSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4cmVmDTMgMTUgDTAwMDAwMDAwMTYgMDAwMDAgbg0KMDAwMDAwMDY0NCAwMDAwMCBuDQowMDAwMDAwOTE3IDAwMDAwIG4NCjAwMDAwMDEwNjggMDAwMDAgbg0KMDAwMDAwMTIyNCAwMDAwMCBuDQowMDAwMDAxNDEwIDAwMDAwIG4NCjAwMDAwMDE1ODkgMDAwMDAgbg0KMDAwMDAwMTc2OCAwMDAwMCBuDQowMDAwMDAyMTk3IDAwMDAwIG4NCjAwMDAwMDIzODMgMDAwMDAgbg0KMDAwMDAwMjc2OSAwMDAwMCBuDQowMDAwMDAzMTcyIDAwMDAwIG4NCjAwMDAwMDMzNTEgMDAwMDAgbg0KMDAwMDAwMDc2MCAwMDAwMCBuDQowMDAwMDAwODk3IDAwMDAwIG4NCnRyYWlsZXINPDwNL1NpemUgMTgNL0luZm8gMSAwIFIgDS9Sb290IDQgMCBSIA0vUHJldiAzNzIyIA0vSURbPGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPjxkNzBmNDZjNWJhNGZlOGJkNDlhOWRkMDU5OWIwYjE1MT5dDT4+DXN0YXJ0eHJlZg0wDSUlRU9GDSAgICAgIA00IDAgb2JqDTw8IA0vVHlwZSAvQ2F0YWxvZyANL1BhZ2VzIDIgMCBSIA0vT3BlbkFjdGlvbiBbIDUgMCBSIC9YWVogbnVsbCBudWxsIG51bGwgXSANL1BhZ2VNb2RlIC9Vc2VOb25lIA0+PiANZW5kb2JqDTE2IDAgb2JqDTw8IC9TIDM2IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlIC9MZW5ndGggMTcgMCBSID4+IA1zdHJlYW0NCkiJYmBg4GVgYPrBAAScFxiwAQ4oLQDE3FDMwODHwKkyubctWLfmpsmimQ5AEYAAAwC3vwe0DWVuZHN0cmVhbQ1lbmRvYmoNMTcgMCBvYmoNNTMgDWVuZG9iag01IDAgb2JqDTw8IA0vVHlwZSAvUGFnZSANL1BhcmVudCAyIDAgUiANL1Jlc291cmNlcyA2IDAgUiANL0NvbnRlbnRzIDEwIDAgUiANL01lZGlhQm94IFsgMCAwIDYxMiA3OTIgXSANL0Nyb3BCb3ggWyAwIDAgNjEyIDc5MiBdIA0vUm90YXRlIDAgDT4+IA1lbmRvYmoNNiAwIG9iag08PCANL1Byb2NTZXQgWyAvUERGIC9UZXh0IF0gDS9Gb250IDw8IC9UVDIgOCAwIFIgL1RUNCAxMiAwIFIgL1RUNiAxMyAwIFIgPj4gDS9FeHRHU3RhdGUgPDwgL0dTMSAxNSAwIFIgPj4gDS9Db2xvclNwYWNlIDw8IC9DczUgOSAwIFIgPj4gDT4+IA1lbmRvYmoNNyAwIG9iag08PCANL1R5cGUgL0ZvbnREZXNjcmlwdG9yIA0vQXNjZW50IDg5MSANL0NhcEhlaWdodCAwIA0vRGVzY2VudCAtMjE2IA0vRmxhZ3MgMzQgDS9Gb250QkJveCBbIC01NjggLTMwNyAyMDI4IDEwMDcgXSANL0ZvbnROYW1lIC9UaW1lc05ld1JvbWFuIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNOCAwIG9iag08PCANL1R5cGUgL0ZvbnQgDS9TdWJ0eXBlIC9UcnVlVHlwZSANL0ZpcnN0Q2hhciAzMiANL0xhc3RDaGFyIDMyIA0vV2lkdGhzIFsgMjUwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL1RpbWVzTmV3Um9tYW4gDS9Gb250RGVzY3JpcHRvciA3IDAgUiANPj4gDWVuZG9iag05IDAgb2JqDVsgDS9DYWxSR0IgPDwgL1doaXRlUG9pbnQgWyAwLjk1MDUgMSAxLjA4OSBdIC9HYW1tYSBbIDIuMjIyMjEgMi4yMjIyMSAyLjIyMjIxIF0gDS9NYXRyaXggWyAwLjQxMjQgMC4yMTI2IDAuMDE5MyAwLjM1NzYgMC43MTUxOSAwLjExOTIgMC4xODA1IDAuMDcyMiAwLjk1MDUgXSA+PiANDV0NZW5kb2JqDTEwIDAgb2JqDTw8IC9MZW5ndGggMzU1IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+IA1zdHJlYW0NCkiJdJDBTsMwEETv/oo92ohuvXHsJEeggOCEwDfEIU1SCqIJIimIv2dthyJVQpGc0Xo88+xzL5beZ0DgN4IIq6oCzd8sK43amAyK3GKmTQV+J5YXo4VmjDYNYyOW1w8Ez6PQ4JuwfAkJyr+yXNgSSwt+NU+4Kp+rcg4uy9Q1a6MdarLcpgvUeUGh7RBFSLk1f1n+5FgsHJaZttFqA+tKLJhfZ3kEY+VcoHuUfvui2O3kCL9COSwk1Ok3deMEd6srUCVa2Q7Nftf1Ewar5a4nfxuu4v59NcLMGAKXlcjMLtwj1BsTQCITUSK52cC3IoNGDnto6l5VmEv4YAwjO8VWJ+s2DSeGttw/qmA/PZyLu3vY1p9p0MGZIs2iHdZxjwdNSkzedT0pJiW+CWl5H0O7uu2SB1JLn8rHlMkH2F+/xa20Rjp+nAQ39Ec8c1gz7KJ4T3H7uXnuwvSWl178CDAA/bGPlAplbmRzdHJlYW0NZW5kb2JqDTExIDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTYyOCAtMzc2IDIwMzQgMTA0OCBdIA0vRm9udE5hbWUgL0FyaWFsLEJvbGQgDS9JdGFsaWNBbmdsZSAwIA0vU3RlbVYgMTMzIA0+PiANZW5kb2JqDTEyIDAgb2JqDTw8IA0vVHlwZSAvRm9udCANL1N1YnR5cGUgL1RydWVUeXBlIA0vRmlyc3RDaGFyIDMyIA0vTGFzdENoYXIgMTE3IA0vV2lkdGhzIFsgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgDTAgMCAwIDAgMCA3MjIgMCA2MTEgMCAwIDAgMCAwIDAgMCAwIDAgNjY3IDAgMCAwIDYxMSAwIDAgMCAwIDAgMCANMCAwIDAgMCAwIDAgNTU2IDAgNTU2IDYxMSA1NTYgMCAwIDYxMSAyNzggMCAwIDAgODg5IDYxMSA2MTEgMCAwIA0wIDU1NiAzMzMgNjExIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsLEJvbGQgDS9Gb250RGVzY3JpcHRvciAxMSAwIFIgDT4+IA1lbmRvYmoNMTMgMCBvYmoNPDwgDS9UeXBlIC9Gb250IA0vU3VidHlwZSAvVHJ1ZVR5cGUgDS9GaXJzdENoYXIgMzIgDS9MYXN0Q2hhciAxMjEgDS9XaWR0aHMgWyAyNzggMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDI3OCAwIDI3OCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCANMCAwIDAgNjY3IDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCA3MjIgMCAwIDAgMCAwIDAgMCAwIA0wIDAgMCAwIDAgMCA1NTYgNTU2IDUwMCA1NTYgNTU2IDI3OCAwIDU1NiAyMjIgMCAwIDIyMiA4MzMgNTU2IDU1NiANNTU2IDAgMzMzIDUwMCAyNzggNTU2IDUwMCAwIDAgNTAwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsIA0vRm9udERlc2NyaXB0b3IgMTQgMCBSIA0+PiANZW5kb2JqDTE0IDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTY2NSAtMzI1IDIwMjggMTAzNyBdIA0vRm9udE5hbWUgL0FyaWFsIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNMTUgMCBvYmoNPDwgDS9UeXBlIC9FeHRHU3RhdGUgDS9TQSBmYWxzZSANL1NNIDAuMDIgDS9UUiAvSWRlbnRpdHkgDT4+IA1lbmRvYmoNMSAwIG9iag08PCANL1Byb2R1Y2VyIChBY3JvYmF0IERpc3RpbGxlciA0LjA1IGZvciBXaW5kb3dzKQ0vQ3JlYXRvciAoTWljcm9zb2Z0IFdvcmQgOS4wKQ0vTW9kRGF0ZSAoRDoyMDAxMDgyOTA5NTUwMS0wNycwMCcpDS9BdXRob3IgKEdlbmUgQnJ1bWJsYXkpDS9UaXRsZSAoVGhpcyBpcyBhIHRlc3QgUERGIGRvY3VtZW50KQ0vQ3JlYXRpb25EYXRlIChEOjIwMDEwODI5MDk1NDU3KQ0+PiANZW5kb2JqDTIgMCBvYmoNPDwgDS9UeXBlIC9QYWdlcyANL0tpZHMgWyA1IDAgUiBdIA0vQ291bnQgMSANPj4gDWVuZG9iag14cmVmDTAgMyANMDAwMDAwMDAwMCA2NTUzNSBmDQowMDAwMDAzNDI5IDAwMDAwIG4NCjAwMDAwMDM2NTggMDAwMDAgbg0KdHJhaWxlcg08PA0vU2l6ZSAzDS9JRFs8ZDcwZjQ2YzViYTRmZThiZDQ5YTlkZDA1OTliMGIxNTE+PGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPl0NPj4Nc3RhcnR4cmVmDTE3Mw0lJUVPRg0=", "find_user": "manuchehr", "ido": "2022-12-31 00:00:00", "invoice": {"commentsFinance": "", "commentsProjectLead": " ", "contributorId": 1, "contributorName": "Harmeet", "dueDate": "2022-12-31", "invoiceAmount": 1, "invoiceAmount_str": "$1.00 USD", "invoiceCurrency": "USD", "invoiceDate": "2022-10-26", "invoiceId": 1, "invoiceStatus": "Rejected by Finance Team", "isProjectLeadApprove": true}, "invoiceAmount_str": "1", "invoice_amount": 1, "invoice_file_name": "Harmeet_1.pdf", "isApprovalTimer": false, "isCurTest": false, "isCurrentUser": false, "isDueDateAfter": true, "isInvoiceApproved": false, "isInvoiceSubmitPass": true, "isMatch": false, "isNameNum": false, "isSetMessage": false, "ld": "2022-10-26 00:00:00", "local_date_str": "2022-10-26", "local_time_str": "07:07 PM", "n": 5, "process": {"group_id": "execute-procure-to-pay", "model_id": "cc-invoice-approval-process"}, "process_instance_id": 68, "project_lead_info": {"email": "manuchehr@status.im", "first_name": "Manuchehr", "full_name": "Manuchehr Ebrahimi", "status_key": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "team_lead_username": "alex"}, "respNotifyTeamLead": {"id": 1, "jsonrpc": "2.0", "result": {"chats": [{"ReadMessagesAtClockValue": 0, "active": true, "alias": "Nutty Yearly Copepod", "chatType": 1, "color": "", "deletedAtClockValue": 0, "description": "", "emoji": "", "highlight": true, "id": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAk0lEQVR4nOzX0QmAMAwAURV3cR2HcQyHcR2n0QWMpEjlCPe+8+ERCHYaijCExhAaQ2gMoSkTMmcHj/28+n7Ks3VbxsxcmY0YQmMITeoivImuWXRtWuezymzEEBpDaNL/Wq3+/jcrsxFDaAyhMYTGEBpDaD6/ECO9XoKRMhsxhMYQdVJmI4bQGEJjCI0hNHcAAAD//7ORE3nYZhcbAAAAAElFTkSuQmCC", "joined": 1666724872292, "lastClockValue": 1666811246152, "lastMessage": {"alias": "Elderly Some Finnishspitz", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAjUlEQVR4nOzWwQmEMBQG4V2xF/uxFsuwFvuxGr2HBIQkMPzMdxQJGR48svxCGEJjCI0hNIbQxISsX388r/upfT/27T/iIr3nx0zEEBpDaIZsnJrZW64UMxFDaAyh6X5rtbS206hzSjETMYTGEBrfWjSG0BhCYwiNITSGaJKYiRhCYwiNITSG0LwBAAD//31KGGXrn7nYAAAAAElFTkSuQmCC", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}, "members": null, "membershipUpdateEvents": null, "muted": false, "name": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "syncedFrom": 1666638472, "syncedTo": 1666638472, "timestamp": 1666811246168, "unviewedMentionsCount": 0, "unviewedMessagesCount": 0}], "discordOldestMessageTimestamp": 0, "messages": [{"alias": "", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "gapParameters": {}, "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}], "notifications": null}}, "resp_AddDynamoItem": {}, "resp_BambooPayRate": {"amount": "120000.00", "currency": "AUD", "id": "109", "payRate": "120000.00 AUD"}, "resp_BambooUserInfo": {"id": "109", "supervisorEid": "110", "supervisorEmail": "manuchehr@status.im", "supervisorId": "321"}, "resp_QuertInvoiceDetails": {"Count": 1, "Items": [{"ContributorId": 1, "ContributorName": "Harmeet", "DueDate": "2022-12-31", "InvoiceAmount": 1, "InvoiceCurrency": "USD", "InvoiceId": 1}], "ScannedCount": 1}, "spiff__Activity_0p88elm_result": {"result": "success"}, "submitInvoiceValidationMessage": "No numbers in name, involce amount decimal places not greated than two, invoice due date after today's date", "task_id": "waku_invoice_rejected-Finance", "userBambooId": 110, "userBambooId_str": "110", "userKeycloak": "manuchehr", "validate_only": false, "waku_message": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Approved\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_body": "Hi not found, your invoice has been rejected by Finance. The reason specified for the rejection is: [", "waku_message_footer": "\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_timestamp": "\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -", "waku_message_variables": "\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Rejected by Finance Team\nProject Lead Comments:  ", "whichSubject": "Currency", "wr_InvoiceSubmitted": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}, "wr_notifyFinance": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}}</spiffworkflow:inputJson><spiffworkflow:expectedOutputJson>{"addNew": false, "annual_salary": 120000, "annual_salary_str": "120000.00", "approvalComment": "", "curAmount": 1, "curAmount_str": "$1.00 USD", "curCode": "USD", "curFractionalSeparator": ".", "curName": "US Dollar", "curSymbol": "$", "curSymbolLocation": "Left", "curSymbolSpaces": 0, "curThousandsSeparator": ",", "current_user": {"id": "4", "username": "jason"}, "current_user_extras": {"bamboo_id": 109, "email": "not found", "first_name": "not found", "full_name": "not found", "project_lead_username": "not found", "status_key": "not found"}, "decimal_cnt": 0, "enumerations_list": [{"label": "Australian Dollar (AUD)", "value": "AUD"}, {"label": "Canadian Dollar (CAD)", "value": "CAD"}, {"label": "Pound sterling (GBP)", "value": "GBP"}, {"label": "Singapore Dollar (SGD)", "value": "SGD"}, {"label": "US Dollar (USD)", "value": "USD"}], "filesAccept": "data:application/pdf;name=test.pdf;base64,JVBERi0xLjINJeLjz9MNCjMgMCBvYmoNPDwgDS9MaW5lYXJpemVkIDEgDS9PIDUgDS9IIFsgNzYwIDE1NyBdIA0vTCAzOTA4IA0vRSAzNjU4IA0vTiAxIA0vVCAzNzMxIA0+PiANZW5kb2JqDSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4cmVmDTMgMTUgDTAwMDAwMDAwMTYgMDAwMDAgbg0KMDAwMDAwMDY0NCAwMDAwMCBuDQowMDAwMDAwOTE3IDAwMDAwIG4NCjAwMDAwMDEwNjggMDAwMDAgbg0KMDAwMDAwMTIyNCAwMDAwMCBuDQowMDAwMDAxNDEwIDAwMDAwIG4NCjAwMDAwMDE1ODkgMDAwMDAgbg0KMDAwMDAwMTc2OCAwMDAwMCBuDQowMDAwMDAyMTk3IDAwMDAwIG4NCjAwMDAwMDIzODMgMDAwMDAgbg0KMDAwMDAwMjc2OSAwMDAwMCBuDQowMDAwMDAzMTcyIDAwMDAwIG4NCjAwMDAwMDMzNTEgMDAwMDAgbg0KMDAwMDAwMDc2MCAwMDAwMCBuDQowMDAwMDAwODk3IDAwMDAwIG4NCnRyYWlsZXINPDwNL1NpemUgMTgNL0luZm8gMSAwIFIgDS9Sb290IDQgMCBSIA0vUHJldiAzNzIyIA0vSURbPGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPjxkNzBmNDZjNWJhNGZlOGJkNDlhOWRkMDU5OWIwYjE1MT5dDT4+DXN0YXJ0eHJlZg0wDSUlRU9GDSAgICAgIA00IDAgb2JqDTw8IA0vVHlwZSAvQ2F0YWxvZyANL1BhZ2VzIDIgMCBSIA0vT3BlbkFjdGlvbiBbIDUgMCBSIC9YWVogbnVsbCBudWxsIG51bGwgXSANL1BhZ2VNb2RlIC9Vc2VOb25lIA0+PiANZW5kb2JqDTE2IDAgb2JqDTw8IC9TIDM2IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlIC9MZW5ndGggMTcgMCBSID4+IA1zdHJlYW0NCkiJYmBg4GVgYPrBAAScFxiwAQ4oLQDE3FDMwODHwKkyubctWLfmpsmimQ5AEYAAAwC3vwe0DWVuZHN0cmVhbQ1lbmRvYmoNMTcgMCBvYmoNNTMgDWVuZG9iag01IDAgb2JqDTw8IA0vVHlwZSAvUGFnZSANL1BhcmVudCAyIDAgUiANL1Jlc291cmNlcyA2IDAgUiANL0NvbnRlbnRzIDEwIDAgUiANL01lZGlhQm94IFsgMCAwIDYxMiA3OTIgXSANL0Nyb3BCb3ggWyAwIDAgNjEyIDc5MiBdIA0vUm90YXRlIDAgDT4+IA1lbmRvYmoNNiAwIG9iag08PCANL1Byb2NTZXQgWyAvUERGIC9UZXh0IF0gDS9Gb250IDw8IC9UVDIgOCAwIFIgL1RUNCAxMiAwIFIgL1RUNiAxMyAwIFIgPj4gDS9FeHRHU3RhdGUgPDwgL0dTMSAxNSAwIFIgPj4gDS9Db2xvclNwYWNlIDw8IC9DczUgOSAwIFIgPj4gDT4+IA1lbmRvYmoNNyAwIG9iag08PCANL1R5cGUgL0ZvbnREZXNjcmlwdG9yIA0vQXNjZW50IDg5MSANL0NhcEhlaWdodCAwIA0vRGVzY2VudCAtMjE2IA0vRmxhZ3MgMzQgDS9Gb250QkJveCBbIC01NjggLTMwNyAyMDI4IDEwMDcgXSANL0ZvbnROYW1lIC9UaW1lc05ld1JvbWFuIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNOCAwIG9iag08PCANL1R5cGUgL0ZvbnQgDS9TdWJ0eXBlIC9UcnVlVHlwZSANL0ZpcnN0Q2hhciAzMiANL0xhc3RDaGFyIDMyIA0vV2lkdGhzIFsgMjUwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL1RpbWVzTmV3Um9tYW4gDS9Gb250RGVzY3JpcHRvciA3IDAgUiANPj4gDWVuZG9iag05IDAgb2JqDVsgDS9DYWxSR0IgPDwgL1doaXRlUG9pbnQgWyAwLjk1MDUgMSAxLjA4OSBdIC9HYW1tYSBbIDIuMjIyMjEgMi4yMjIyMSAyLjIyMjIxIF0gDS9NYXRyaXggWyAwLjQxMjQgMC4yMTI2IDAuMDE5MyAwLjM1NzYgMC43MTUxOSAwLjExOTIgMC4xODA1IDAuMDcyMiAwLjk1MDUgXSA+PiANDV0NZW5kb2JqDTEwIDAgb2JqDTw8IC9MZW5ndGggMzU1IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+IA1zdHJlYW0NCkiJdJDBTsMwEETv/oo92ohuvXHsJEeggOCEwDfEIU1SCqIJIimIv2dthyJVQpGc0Xo88+xzL5beZ0DgN4IIq6oCzd8sK43amAyK3GKmTQV+J5YXo4VmjDYNYyOW1w8Ez6PQ4JuwfAkJyr+yXNgSSwt+NU+4Kp+rcg4uy9Q1a6MdarLcpgvUeUGh7RBFSLk1f1n+5FgsHJaZttFqA+tKLJhfZ3kEY+VcoHuUfvui2O3kCL9COSwk1Ok3deMEd6srUCVa2Q7Nftf1Ewar5a4nfxuu4v59NcLMGAKXlcjMLtwj1BsTQCITUSK52cC3IoNGDnto6l5VmEv4YAwjO8VWJ+s2DSeGttw/qmA/PZyLu3vY1p9p0MGZIs2iHdZxjwdNSkzedT0pJiW+CWl5H0O7uu2SB1JLn8rHlMkH2F+/xa20Rjp+nAQ39Ec8c1gz7KJ4T3H7uXnuwvSWl178CDAA/bGPlAplbmRzdHJlYW0NZW5kb2JqDTExIDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTYyOCAtMzc2IDIwMzQgMTA0OCBdIA0vRm9udE5hbWUgL0FyaWFsLEJvbGQgDS9JdGFsaWNBbmdsZSAwIA0vU3RlbVYgMTMzIA0+PiANZW5kb2JqDTEyIDAgb2JqDTw8IA0vVHlwZSAvRm9udCANL1N1YnR5cGUgL1RydWVUeXBlIA0vRmlyc3RDaGFyIDMyIA0vTGFzdENoYXIgMTE3IA0vV2lkdGhzIFsgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgDTAgMCAwIDAgMCA3MjIgMCA2MTEgMCAwIDAgMCAwIDAgMCAwIDAgNjY3IDAgMCAwIDYxMSAwIDAgMCAwIDAgMCANMCAwIDAgMCAwIDAgNTU2IDAgNTU2IDYxMSA1NTYgMCAwIDYxMSAyNzggMCAwIDAgODg5IDYxMSA2MTEgMCAwIA0wIDU1NiAzMzMgNjExIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsLEJvbGQgDS9Gb250RGVzY3JpcHRvciAxMSAwIFIgDT4+IA1lbmRvYmoNMTMgMCBvYmoNPDwgDS9UeXBlIC9Gb250IA0vU3VidHlwZSAvVHJ1ZVR5cGUgDS9GaXJzdENoYXIgMzIgDS9MYXN0Q2hhciAxMjEgDS9XaWR0aHMgWyAyNzggMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDI3OCAwIDI3OCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCANMCAwIDAgNjY3IDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCA3MjIgMCAwIDAgMCAwIDAgMCAwIA0wIDAgMCAwIDAgMCA1NTYgNTU2IDUwMCA1NTYgNTU2IDI3OCAwIDU1NiAyMjIgMCAwIDIyMiA4MzMgNTU2IDU1NiANNTU2IDAgMzMzIDUwMCAyNzggNTU2IDUwMCAwIDAgNTAwIF0gDS9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIA0vQmFzZUZvbnQgL0FyaWFsIA0vRm9udERlc2NyaXB0b3IgMTQgMCBSIA0+PiANZW5kb2JqDTE0IDAgb2JqDTw8IA0vVHlwZSAvRm9udERlc2NyaXB0b3IgDS9Bc2NlbnQgOTA1IA0vQ2FwSGVpZ2h0IDAgDS9EZXNjZW50IC0yMTEgDS9GbGFncyAzMiANL0ZvbnRCQm94IFsgLTY2NSAtMzI1IDIwMjggMTAzNyBdIA0vRm9udE5hbWUgL0FyaWFsIA0vSXRhbGljQW5nbGUgMCANL1N0ZW1WIDAgDT4+IA1lbmRvYmoNMTUgMCBvYmoNPDwgDS9UeXBlIC9FeHRHU3RhdGUgDS9TQSBmYWxzZSANL1NNIDAuMDIgDS9UUiAvSWRlbnRpdHkgDT4+IA1lbmRvYmoNMSAwIG9iag08PCANL1Byb2R1Y2VyIChBY3JvYmF0IERpc3RpbGxlciA0LjA1IGZvciBXaW5kb3dzKQ0vQ3JlYXRvciAoTWljcm9zb2Z0IFdvcmQgOS4wKQ0vTW9kRGF0ZSAoRDoyMDAxMDgyOTA5NTUwMS0wNycwMCcpDS9BdXRob3IgKEdlbmUgQnJ1bWJsYXkpDS9UaXRsZSAoVGhpcyBpcyBhIHRlc3QgUERGIGRvY3VtZW50KQ0vQ3JlYXRpb25EYXRlIChEOjIwMDEwODI5MDk1NDU3KQ0+PiANZW5kb2JqDTIgMCBvYmoNPDwgDS9UeXBlIC9QYWdlcyANL0tpZHMgWyA1IDAgUiBdIA0vQ291bnQgMSANPj4gDWVuZG9iag14cmVmDTAgMyANMDAwMDAwMDAwMCA2NTUzNSBmDQowMDAwMDAzNDI5IDAwMDAwIG4NCjAwMDAwMDM2NTggMDAwMDAgbg0KdHJhaWxlcg08PA0vU2l6ZSAzDS9JRFs8ZDcwZjQ2YzViYTRmZThiZDQ5YTlkZDA1OTliMGIxNTE+PGQ3MGY0NmM1YmE0ZmU4YmQ0OWE5ZGQwNTk5YjBiMTUxPl0NPj4Nc3RhcnR4cmVmDTE3Mw0lJUVPRg0=", "find_user": "manuchehr", "ido": "2022-12-31 00:00:00", "invoice": {"commentsFinance": "", "commentsProjectLead": " ", "contributorId": 1, "contributorName": "Harmeet", "dueDate": "2022-12-31", "invoiceAmount": 1, "invoiceAmount_str": "$1.00 USD", "invoiceCurrency": "USD", "invoiceDate": "2022-10-26", "invoiceId": 1, "invoiceStatus": "Rejected by Finance Team", "isProjectLeadApprove": true}, "invoiceAmount_str": "1", "invoice_amount": 1, "invoice_file_name": "Harmeet_1.pdf", "isApprovalTimer": false, "isCurTest": false, "isCurrentUser": false, "isDueDateAfter": true, "isInvoiceApproved": false, "isInvoiceSubmitPass": true, "isMatch": false, "isNameNum": false, "isSetMessage": false, "ld": "2022-10-26 00:00:00", "local_date_str": "2022-10-26", "local_time_str": "07:07 PM", "n": 5, "process": {"group_id": "execute-procure-to-pay", "model_id": "cc-invoice-approval-process"}, "process_instance_id": 68, "project_lead_info": {"email": "manuchehr@status.im", "first_name": "Manuchehr", "full_name": "Manuchehr Ebrahimi", "status_key": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "team_lead_username": "alex"}, "respNotifyTeamLead": {"id": 1, "jsonrpc": "2.0", "result": {"chats": [{"ReadMessagesAtClockValue": 0, "active": true, "alias": "Nutty Yearly Copepod", "chatType": 1, "color": "", "deletedAtClockValue": 0, "description": "", "emoji": "", "highlight": true, "id": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAk0lEQVR4nOzX0QmAMAwAURV3cR2HcQyHcR2n0QWMpEjlCPe+8+ERCHYaijCExhAaQ2gMoSkTMmcHj/28+n7Ks3VbxsxcmY0YQmMITeoivImuWXRtWuezymzEEBpDaNL/Wq3+/jcrsxFDaAyhMYTGEBpDaD6/ECO9XoKRMhsxhMYQdVJmI4bQGEJjCI0hNHcAAAD//7ORE3nYZhcbAAAAAElFTkSuQmCC", "joined": 1666724872292, "lastClockValue": 1666811246152, "lastMessage": {"alias": "Elderly Some Finnishspitz", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAjUlEQVR4nOzWwQmEMBQG4V2xF/uxFsuwFvuxGr2HBIQkMPzMdxQJGR48svxCGEJjCI0hNIbQxISsX388r/upfT/27T/iIr3nx0zEEBpDaIZsnJrZW64UMxFDaAyh6X5rtbS206hzSjETMYTGEBrfWjSG0BhCYwiNITSGaJKYiRhCYwiNITSG0LwBAAD//31KGGXrn7nYAAAAAElFTkSuQmCC", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}, "members": null, "membershipUpdateEvents": null, "muted": false, "name": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "syncedFrom": 1666638472, "syncedTo": 1666638472, "timestamp": 1666811246168, "unviewedMentionsCount": 0, "unviewedMessagesCount": 0}], "discordOldestMessageTimestamp": 0, "messages": [{"alias": "", "chatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "clock": 1666811246152, "contentType": 1, "displayName": "", "ensName": "", "from": "0x0454ba9aaacbfa7622e153485e58896aa64756a6da3f2f28dbfb825aa6d8ad06db98d1ef19a271c582ed19bb804f1302d1cc1767abb5025d5b82389553e258ac32", "gapParameters": {}, "id": "0xccb783d51d86e0cd1649630582344ae273a413e26e37f001023a9308e938c59d", "identicon": "", "lineCount": 10, "links": ["https://demo.spiffworkflow.org/"], "localChatId": "0x04622cf750e9f79e60546258bebd4be274f75720b16862bb0c496aaeab746b6fbe897f956b2b08152bc3def5297bed95986a5211ae1a34491d35f51f69713cbf9d", "messageType": 1, "outgoingStatus": "sending", "parsedText": [{"children": [{"literal": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: "}, {"children": [{"literal": "https://demo.spiffworkflow.org/"}], "destination": "https://demo.spiffworkflow.org/", "literal": "", "title": "", "type": "link"}], "type": "paragraph"}], "quotedMessage": null, "replace": "", "responseTo": "", "rtl": false, "seen": true, "text": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Awaiting approval\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "timestamp": 1666811246152, "whisperTimestamp": 1666811246152}], "notifications": null}}, "resp_AddDynamoItem": {}, "resp_BambooPayRate": {"amount": "120000.00", "currency": "AUD", "id": "109", "payRate": "120000.00 AUD"}, "resp_BambooUserInfo": {"id": "109", "supervisorEid": "110", "supervisorEmail": "manuchehr@status.im", "supervisorId": "321"}, "resp_QuertInvoiceDetails": {"Count": 1, "Items": [{"ContributorId": 1, "ContributorName": "Harmeet", "DueDate": "2022-12-31", "InvoiceAmount": 1, "InvoiceCurrency": "USD", "InvoiceId": 1}], "ScannedCount": 1}, "spiff__Activity_0p88elm_result": {"result": "success"}, "submitInvoiceValidationMessage": "No numbers in name, involce amount decimal places not greated than two, invoice due date after today's date", "task_id": "waku_invoice_rejected-Finance", "userBambooId": 110, "userBambooId_str": "110", "userKeycloak": "manuchehr", "validate_only": false, "waku_message": "An invoice has been submitted and awaits your approval.\nSubmitted by: not found\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Approved\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_body": "Hi not found, your invoice has been rejected by Finance. The reason specified for the rejection is: [", "waku_message_footer": "\nProcess Instance Id: 68\nLink to Spiff: https://demo.spiffworkflow.org/", "waku_message_timestamp": "\n- - - - - - - - - - - - - - - - - - - - - - -\nSent: 2022-10-26 @ 07:07 PM\n- - - - - - - - - - - - - - - - - - - - - - -", "waku_message_variables": "\nInvoice no: 1\nAmount: $1.00 USD\nDate submitted: 2022-10-26\nStatus: Rejected by Finance Team\nProject Lead Comments:  ", "whichSubject": "Currency", "wr_InvoiceSubmitted": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}, "wr_notifyFinance": {"error": {"code": -32602, "message": "invalid argument 0: json: cannot unmarshal hex string without 0x prefix into Go struct field SendOneToOneMessage.id of type types.HexBytes"}, "id": 1, "jsonrpc": "2.0"}}</spiffworkflow:expectedOutputJson></spiffworkflow:unitTest></spiffworkflow:unitTests>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1avkxpe</bpmn:incoming>
        <bpmn:outgoing>Flow_0mvmd06</bpmn:outgoing>
        <bpmn:script>isNameNum = False
for c in invoice.contributorName:
	if c.isdigit():
		isNameNum = True
		break

del c</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:scriptTask id="Activity_check_invoice_amount" name="Check Invoice Amount" scriptFormat="python">
        <bpmn:incoming>Flow_0mvmd06</bpmn:incoming>
        <bpmn:outgoing>Flow_0wp2mcf</bpmn:outgoing>
        <bpmn:script># Check if there are more than two decimal places
invoiceAmount_str = str(invoice.invoiceAmount)
d = decimal.Decimal(invoiceAmount_str)
d_cnt = d.as_tuple().exponent

# Get number of decimal places
decimal_cnt = abs(d_cnt)

#Delete unneeded variables
del d
del d_cnt
del decimal</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_0tzjowk" sourceRef="Activity_check_validation_rules" targetRef="Event_015l7j8"/>
      <bpmn:businessRuleTask id="Activity_check_validation_rules" name="Check Validation Rules">
        <bpmn:extensionElements>
          <spiffworkflow:calledDecisionId>submit_involce_valication</spiffworkflow:calledDecisionId>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1d7sgm2</bpmn:incoming>
        <bpmn:outgoing>Flow_0tzjowk</bpmn:outgoing>
      </bpmn:businessRuleTask>
      <bpmn:callActivity id="Activity_call_local_date_and_time" name="Call Local Date &amp; Time" calledElement="Shared_Local_Date_Time">
        <bpmn:incoming>Flow_0wp2mcf</bpmn:incoming>
        <bpmn:outgoing>Flow_18i6dlo</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_18i6dlo" sourceRef="Activity_call_local_date_and_time" targetRef="Activity_Check_Due_Date"/>
      <bpmn:sequenceFlow id="Flow_1d7sgm2" sourceRef="Activity_Check_Due_Date" targetRef="Activity_check_validation_rules"/>
      <bpmn:sequenceFlow id="Flow_0mvmd06" sourceRef="Activity_check_contributor_name" targetRef="Activity_check_invoice_amount"/>
      <bpmn:sequenceFlow id="Flow_0wp2mcf" sourceRef="Activity_check_invoice_amount" targetRef="Activity_call_local_date_and_time"/>
    </bpmn:subProcess>
    <bpmn:manualTask id="Activity_show_errors" name="Show Error(s)">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser>Validation failed.  \n
{{ submitInvoiceValidationMessage }} \n
Please fix.
</spiffworkflow:instructionsForEndUser>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_13ng1f4</bpmn:incoming>
      <bpmn:outgoing>Flow_18cic3h</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:intermediateThrowEvent id="Event_invoice_validation_failed" name="Invoice validation failed">
      <bpmn:documentation>Process milestone should update the process metadata field &#8220;milestone reached&#8221;</bpmn:documentation>
      <bpmn:incoming>Flow_05ffq52</bpmn:incoming>
      <bpmn:outgoing>Flow_13ng1f4</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_0bipj9q" sourceRef="Activity_1u89kok" targetRef="Activity_1colhao"/>
    <bpmn:sequenceFlow id="Flow_04ccp12" sourceRef="Event_0m3ri6v" targetRef="Activity_1kgaqpf"/>
    <bpmn:sequenceFlow id="Flow_0kngdw4" sourceRef="Event_0x83ruk" targetRef="Activity_1ucvkk4"/>
    <bpmn:sequenceFlow id="Flow_0lfqk0y" sourceRef="Activity_1ucvkk4" targetRef="Activity_06b32ar"/>
    <bpmn:sequenceFlow id="Flow_1ds4s8o" sourceRef="Activity_1kgaqpf" targetRef="Activity_0cdgqi0"/>
    <bpmn:sequenceFlow id="Flow_09wwily" sourceRef="Activity_0cdgqi0" targetRef="Activity_11stdua"/>
    <bpmn:sequenceFlow id="Flow_00kky3k" name="No" sourceRef="Gateway_1ytq6m7" targetRef="Gateway_1l4tz4i">
      <bpmn:conditionExpression>not(isInvoiceApproved)</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0h96w9j" name="Yes" sourceRef="Gateway_1ytq6m7" targetRef="Activity_0fq1nb4"/>
    <bpmn:sequenceFlow id="Flow_053ca95" sourceRef="Activity_0fq1nb4" targetRef="Activity_1b6tead"/>
    <bpmn:sequenceFlow id="Flow_0p6vvu0" sourceRef="Activity_104xpp8" targetRef="Activity_0p88elm"/>
    <bpmn:sequenceFlow id="Flow_00p30u2" sourceRef="Activity_1colhao" targetRef="Gateway_0wk5se9"/>
    <bpmn:callActivity id="Activity_1u89kok" name="Call Shared: Start Process" calledElement="Shared_Start_Process">
      <bpmn:extensionElements>
        <spiffworkflow:preScript>find_user =  current_user["username"]
isCurrentUser = True</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1vxagrf</bpmn:incoming>
      <bpmn:outgoing>Flow_0bipj9q</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:startEvent id="Event_1r3yh2k">
      <bpmn:outgoing>Flow_1vxagrf</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:parallelGateway id="Gateway_05ov5p5">
      <bpmn:incoming>Flow_0u5z1vc</bpmn:incoming>
      <bpmn:outgoing>Flow_12cqm3u</bpmn:outgoing>
      <bpmn:outgoing>Flow_0hev3yn</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:serviceTask id="Activity_0p88elm" name="2d. Upload Invoice PDF document" scriptFormat="python" script="invoice_name = invoice.contributorName + &quot;_&quot; + invoice.invoiceId">
      <bpmn:extensionElements>
        <spiffworkflow:preScript/>
        <spiffworkflow:postScript>del(filesAccept)</spiffworkflow:postScript>
        <spiffworkflow:serviceTaskOperator id="aws/UploadFileData">
          <spiffworkflow:parameters>
            <spiffworkflow:parameter id="bucket" type="str" value="'sartography-status-pdfs'"/>
            <spiffworkflow:parameter id="file_data" type="str" value="filesAccept"/>
            <spiffworkflow:parameter id="object_name" type="str" value="invoice_file_name"/>
          </spiffworkflow:parameters>
        </spiffworkflow:serviceTaskOperator>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0p6vvu0</bpmn:incoming>
      <bpmn:outgoing>Flow_0o94g4u</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_104xpp8" name="Set Invoice PDF Name" scriptFormat="python">
      <bpmn:incoming>Flow_12cqm3u</bpmn:incoming>
      <bpmn:outgoing>Flow_0p6vvu0</bpmn:outgoing>
      <bpmn:script>invoice_file_name = invoice.contributorName + "_" + str(invoice.invoiceId) + ".pdf"</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_0u5z1vc" sourceRef="Activity_109lq0m" targetRef="Gateway_05ov5p5"/>
    <bpmn:scriptTask id="Activity_109lq0m" name="Set Invoice Status to Awaiting Approval" scriptFormat="python">
      <bpmn:incoming>Flow_1x4rtop</bpmn:incoming>
      <bpmn:outgoing>Flow_0u5z1vc</bpmn:outgoing>
      <bpmn:script># Set Invoice Status
invoice["invoiceStatus"] = "Awaiting approval"</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:callActivity id="Activity_10p5t0r" name="Call Shared: Currency Format" calledElement="Shared_Currency_Format">
      <bpmn:extensionElements>
        <spiffworkflow:preScript>curCode = invoice.invoiceCurrency
curAmount = invoice.invoiceAmount
isCurTest = False</spiffworkflow:preScript>
        <spiffworkflow:postScript>invoice.invoiceAmount_str = curAmount_str</spiffworkflow:postScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0a9w301</bpmn:incoming>
      <bpmn:outgoing>Flow_0h1x7y6</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_0a9w301" sourceRef="Gateway_1717c0p" targetRef="Activity_10p5t0r"/>
    <bpmn:sequenceFlow id="Flow_0h1x7y6" sourceRef="Activity_10p5t0r" targetRef="Activity_0gkpa9s"/>
    <bpmn:parallelGateway id="Gateway_1717c0p">
      <bpmn:incoming>Flow_02o270g</bpmn:incoming>
      <bpmn:incoming>Flow_0o94g4u</bpmn:incoming>
      <bpmn:outgoing>Flow_0a9w301</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_15pzvrr" sourceRef="Activity_0faln91" targetRef="Gateway_1l4tz4i"/>
    <bpmn:sequenceFlow id="Flow_00tndkb" sourceRef="Activity_1b6tead" targetRef="Waku_Message_Pending_Payment"/>
    <bpmn:sequenceFlow id="Flow_02v6lr2" sourceRef="Activity_11stdua" targetRef="Gateway_1ytq6m7"/>
    <bpmn:sequenceFlow id="Flow_04fl87d" sourceRef="Activity_0gkpa9s" targetRef="Event_15y55nw"/>
    <bpmn:subProcess id="Activity_0gkpa9s" name="Waku Message: Notify CC Invoice Submitted">
      <bpmn:extensionElements>
        <spiffworkflow:preScript/>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0h1x7y6</bpmn:incoming>
      <bpmn:outgoing>Flow_04fl87d</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_04ohdyt">
        <bpmn:targetRef>DataObjectReference_1ykzuco</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
      <bpmn:startEvent id="Event_0a4hscg">
        <bpmn:outgoing>Flow_1yktpsd</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:endEvent id="Event_0xohu5m">
        <bpmn:incoming>Flow_17xbb2s</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="Activity_1fsffcq" name="Waku Message: Notify CC Invoice Submitted">
        <bpmn:extensionElements>
          <spiffworkflow:serviceTaskOperator id="waku/SendMessage" resultVariable="wr_InvoiceSubmitted">
            <spiffworkflow:parameters>
              <spiffworkflow:parameter id="message" type="str" value="waku_message"/>
              <spiffworkflow:parameter id="message_type" type="str" value="&quot;wakuext_sendOneToOneMessage&quot;"/>
              <spiffworkflow:parameter id="recipient" type="str" value="current_user_extras[&quot;status_key&quot;]"/>
            </spiffworkflow:parameters>
          </spiffworkflow:serviceTaskOperator>
          <spiffworkflow:preScript/>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0j4xxzp</bpmn:incoming>
        <bpmn:outgoing>Flow_17xbb2s</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_17xbb2s" sourceRef="Activity_1fsffcq" targetRef="Event_0xohu5m"/>
      <bpmn:callActivity id="Call_Waku_Messages_Message" name="Call Waku Messages: Message" calledElement="Waku_Messages_Message">
        <bpmn:extensionElements>
          <spiffworkflow:preScript># Set Task List
task_id = "waku_invoice_submitted"

# Set Message should be generated
isSetMessage = True</spiffworkflow:preScript>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1yktpsd</bpmn:incoming>
        <bpmn:outgoing>Flow_0j4xxzp</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_0j4xxzp" sourceRef="Call_Waku_Messages_Message" targetRef="Activity_1fsffcq"/>
      <bpmn:sequenceFlow id="Flow_1yktpsd" sourceRef="Event_0a4hscg" targetRef="Call_Waku_Messages_Message"/>
    </bpmn:subProcess>
    <bpmn:exclusiveGateway id="Gateway_1lbghql" name="Match?" default="Flow_1gohkts">
      <bpmn:incoming>Flow_1c5u447</bpmn:incoming>
      <bpmn:outgoing>Flow_1gohkts</bpmn:outgoing>
      <bpmn:outgoing>Flow_16bw9hx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:intermediateThrowEvent id="Event_0x83ruk" name="Invoice Approval is required">
      <bpmn:incoming>Flow_16bw9hx</bpmn:incoming>
      <bpmn:outgoing>Flow_0kngdw4</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateThrowEvent id="Event_0m3ri6v" name="Invoice is verified and approved">
      <bpmn:incoming>Flow_1gohkts</bpmn:incoming>
      <bpmn:outgoing>Flow_04ccp12</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:exclusiveGateway id="Gateway_1l4tz4i" name="Approved?" default="Flow_18xvx8w">
      <bpmn:incoming>Flow_00kky3k</bpmn:incoming>
      <bpmn:incoming>Flow_15pzvrr</bpmn:incoming>
      <bpmn:outgoing>Flow_18xvx8w</bpmn:outgoing>
      <bpmn:outgoing>Flow_0bfs2xe</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_06b32ar" name="Approve Invoice - Project Lead">
      <bpmn:extensionElements>
        <spiffworkflow:properties>
          <spiffworkflow:property name="formJsonSchemaFilename" value="invoice-approval_JSONSchema.json"/>
          <spiffworkflow:property name="formUiSchemaFilename" value="invoice-approval_UISchema.json"/>
        </spiffworkflow:properties>
        <spiffworkflow:postScript/>
        <spiffworkflow:preScript># Set Timer Check 
isApprovalTimer = False</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0lfqk0y</bpmn:incoming>
      <bpmn:outgoing>Flow_0yvmfqu</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_0cdgqi0" name="Approve Invoice - Finance">
      <bpmn:extensionElements>
        <spiffworkflow:properties>
          <spiffworkflow:property name="formJsonSchemaFilename" value="invoice-approval_JSONSchema.json"/>
          <spiffworkflow:property name="formUiSchemaFilename" value="invoice-approval_UISchema.json"/>
        </spiffworkflow:properties>
        <spiffworkflow:postScript/>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ds4s8o</bpmn:incoming>
      <bpmn:outgoing>Flow_09wwily</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:subProcess id="Activity_0gkejaj" name="4. Compare Invoice data vs Enterprise systems data">
      <bpmn:incoming>Flow_1ex5hfx</bpmn:incoming>
      <bpmn:outgoing>Flow_1c5u447</bpmn:outgoing>
      <bpmn:startEvent id="Event_0w5o6hr">
        <bpmn:outgoing>Flow_1sc1v4y</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:businessRuleTask id="Activity_1yhwhps" name="Compare the BambooHR.compensation/12 amount with invoice amount">
        <bpmn:extensionElements>
          <spiffworkflow:calledDecisionId>Invoice_Approval_Check</spiffworkflow:calledDecisionId>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1m8uxeg</bpmn:incoming>
        <bpmn:outgoing>Flow_04do8x7</bpmn:outgoing>
      </bpmn:businessRuleTask>
      <bpmn:scriptTask id="Activity_02go8ec" name="Get Annual Salary" scriptFormat="python">
        <bpmn:incoming>Flow_02g4qn2</bpmn:incoming>
        <bpmn:outgoing>Flow_0nxzc38</bpmn:outgoing>
        <bpmn:script>annual_salary_str = resp_BambooPayRate["amount"]
annual_salary = float(annual_salary_str)


# annual_salary = 24000</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:scriptTask id="Activity_0b87ocm" name="Get Invoice Amount" scriptFormat="python">
        <bpmn:incoming>Flow_0xtzqkg</bpmn:incoming>
        <bpmn:outgoing>Flow_1m8uxeg</bpmn:outgoing>
        <bpmn:script>invoice_amount = invoice.invoiceAmount</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_1sc1v4y" sourceRef="Event_0w5o6hr" targetRef="Activity_0mcykih"/>
      <bpmn:sequenceFlow id="Flow_1m8uxeg" sourceRef="Activity_0b87ocm" targetRef="Activity_1yhwhps"/>
      <bpmn:endEvent id="Event_0cmri19">
        <bpmn:incoming>Flow_04do8x7</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_04do8x7" sourceRef="Activity_1yhwhps" targetRef="Event_0cmri19"/>
      <bpmn:serviceTask id="Activity_1k25w3x" name="Query Invoice Details">
        <bpmn:extensionElements>
          <spiffworkflow:serviceTaskOperator id="aws/QueryDynamoTable" resultVariable="resp_QuertInvoiceDetails">
            <spiffworkflow:parameters>
              <spiffworkflow:parameter id="partition_key" type="str" value="invoice.contributorId"/>
              <spiffworkflow:parameter id="sort_key" type="str" value="invoice.invoiceId"/>
              <spiffworkflow:parameter id="table_name" type="str" value="'Invoice'"/>
            </spiffworkflow:parameters>
          </spiffworkflow:serviceTaskOperator>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0nxzc38</bpmn:incoming>
        <bpmn:outgoing>Flow_0xtzqkg</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_0nxzc38" sourceRef="Activity_02go8ec" targetRef="Activity_1k25w3x"/>
      <bpmn:sequenceFlow id="Flow_0xtzqkg" sourceRef="Activity_1k25w3x" targetRef="Activity_0b87ocm"/>
      <bpmn:sequenceFlow id="Flow_02g4qn2" sourceRef="Activity_0mcykih" targetRef="Activity_02go8ec"/>
      <bpmn:serviceTask id="Activity_0mcykih" name="Get Annual Salary fro Bamboo">
        <bpmn:extensionElements>
          <spiffworkflow:serviceTaskOperator id="bamboohr/GetPayRate" resultVariable="resp_BambooPayRate">
            <spiffworkflow:parameters>
              <spiffworkflow:parameter id="employee_id" type="str" value="userBambooId"/>
            </spiffworkflow:parameters>
          </spiffworkflow:serviceTaskOperator>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1sc1v4y</bpmn:incoming>
        <bpmn:outgoing>Flow_02g4qn2</bpmn:outgoing>
      </bpmn:serviceTask>
    </bpmn:subProcess>
    <bpmn:subProcess id="Activity_1ucvkk4" name="Waku Message: Notify Project Lead">
      <bpmn:incoming>Flow_0kngdw4</bpmn:incoming>
      <bpmn:outgoing>Flow_0lfqk0y</bpmn:outgoing>
      <bpmn:exclusiveGateway id="Gateway_1l74xlc">
        <bpmn:outgoing>Flow_1am9jcz</bpmn:outgoing>
        <bpmn:outgoing>Flow_0kx6gsl</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1am9jcz" sourceRef="Gateway_1l74xlc" targetRef="Activity_1w6kg4p"/>
      <bpmn:serviceTask id="Activity_1w6kg4p" name="4ai. Get Team_Lead info">
        <bpmn:incoming>Flow_1am9jcz</bpmn:incoming>
        <bpmn:outgoing>Flow_0rbij5a</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:task id="Activity_0respgl" name="4aii. Get Invoice details">
        <bpmn:incoming>Flow_0kx6gsl</bpmn:incoming>
        <bpmn:outgoing>Flow_0lyg5zb</bpmn:outgoing>
      </bpmn:task>
      <bpmn:sequenceFlow id="Flow_0kx6gsl" sourceRef="Gateway_1l74xlc" targetRef="Activity_0respgl"/>
      <bpmn:exclusiveGateway id="Gateway_1vl3ipe">
        <bpmn:incoming>Flow_0rbij5a</bpmn:incoming>
        <bpmn:incoming>Flow_0lyg5zb</bpmn:incoming>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_0rbij5a" sourceRef="Activity_1w6kg4p" targetRef="Gateway_1vl3ipe"/>
      <bpmn:sequenceFlow id="Flow_0lyg5zb" sourceRef="Activity_0respgl" targetRef="Gateway_1vl3ipe"/>
      <bpmn:dataObjectReference id="DataObjectReference_0frvqwx"/>
      <bpmn:startEvent id="Event_00px1yx">
        <bpmn:outgoing>Flow_0dvboik</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:endEvent id="Event_1nkaxn4">
        <bpmn:incoming>Flow_0y37dgj</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:callActivity id="Activity_00b66gy" name="Call Shared: User Info" calledElement="Shared_User_Info">
        <bpmn:extensionElements>
          <spiffworkflow:preScript/>
          <spiffworkflow:postScript/>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_03mru8z</bpmn:incoming>
        <bpmn:outgoing>Flow_0phvbsa</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:serviceTask id="Activity_1ve0iqu" name="Waku Message: Notify Proejct Lead">
        <bpmn:extensionElements>
          <spiffworkflow:serviceTaskOperator id="waku/SendMessage" resultVariable="respNotifyTeamLead">
            <spiffworkflow:parameters>
              <spiffworkflow:parameter id="message" type="str" value="waku_message"/>
              <spiffworkflow:parameter id="message_type" type="str" value="&quot;wakuext_sendOneToOneMessage&quot;"/>
              <spiffworkflow:parameter id="recipient" type="str" value="project_lead_info[&quot;status_key&quot;]"/>
            </spiffworkflow:parameters>
          </spiffworkflow:serviceTaskOperator>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0re50gq</bpmn:incoming>
        <bpmn:outgoing>Flow_0y37dgj</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:callActivity id="Call_Waku_Messages_Message-Notify_Proejct_Lead" name="Call Waku Messages: Message" calledElement="Waku_Messages_Message">
        <bpmn:extensionElements>
          <spiffworkflow:preScript># Set Waku message variables
task_id = "waku_notify_project_lead"
isSetMessage = True</spiffworkflow:preScript>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0t3n7bd</bpmn:incoming>
        <bpmn:outgoing>Flow_0re50gq</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_0phvbsa" sourceRef="Activity_00b66gy" targetRef="Activity_1jtcvfx"/>
      <bpmn:scriptTask id="Activity_1jtcvfx" name="Temp Post Script" scriptFormat="python">
        <bpmn:incoming>Flow_0phvbsa</bpmn:incoming>
        <bpmn:outgoing>Flow_0t3n7bd</bpmn:outgoing>
        <bpmn:script># Set Project Lead Info
project_lead_info = {}
project_lead_info["full_name"] = userFullName
project_lead_info["first_name"] = userFirstName
project_lead_info["email"] = userEmail
project_lead_info["team_lead_username"] = userProjectLeadUsername
project_lead_info["status_key"] = userStatusKey

del(userFullName)
del(userFirstName)
del(userEmail)
del(userProjectLeadUsername)
del(userStatusKey)</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_0t3n7bd" sourceRef="Activity_1jtcvfx" targetRef="Call_Waku_Messages_Message-Notify_Proejct_Lead"/>
      <bpmn:sequenceFlow id="Flow_0re50gq" sourceRef="Call_Waku_Messages_Message-Notify_Proejct_Lead" targetRef="Activity_1ve0iqu"/>
      <bpmn:sequenceFlow id="Flow_0y37dgj" sourceRef="Activity_1ve0iqu" targetRef="Event_1nkaxn4"/>
      <bpmn:scriptTask id="Activity_1982sk7" name="Get Project Lead" scriptFormat="python">
        <bpmn:incoming>Flow_0dvboik</bpmn:incoming>
        <bpmn:outgoing>Flow_01ki4jt</bpmn:outgoing>
        <bpmn:script>userBambooId_str = resp_BambooUserInfo["supervisorEid"]</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_0dvboik" sourceRef="Event_00px1yx" targetRef="Activity_1982sk7"/>
      <bpmn:sequenceFlow id="Flow_03mru8z" sourceRef="Activity_1nyfxna" targetRef="Activity_00b66gy"/>
      <bpmn:scriptTask id="Activity_1nyfxna" name="Temp Pre Script" scriptFormat="python">
        <bpmn:incoming>Flow_1lbdhwm</bpmn:incoming>
        <bpmn:outgoing>Flow_03mru8z</bpmn:outgoing>
        <bpmn:script># find_user = current_user_extras["project_lead_username"]
find_user = userKeycloak
isCurrentUser = False</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:callActivity id="Activity_1r3o0bm" name="Get Keycloak Username" calledElement="Bamboo_Conversion">
        <bpmn:incoming>Flow_01ki4jt</bpmn:incoming>
        <bpmn:outgoing>Flow_1lbdhwm</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_01ki4jt" sourceRef="Activity_1982sk7" targetRef="Activity_1r3o0bm"/>
      <bpmn:sequenceFlow id="Flow_1lbdhwm" sourceRef="Activity_1r3o0bm" targetRef="Activity_1nyfxna"/>
    </bpmn:subProcess>
    <bpmn:scriptTask id="Activity_0faln91" name="Set Message" scriptFormat="python">
      <bpmn:incoming>Flow_1qf14hx</bpmn:incoming>
      <bpmn:outgoing>Flow_15pzvrr</bpmn:outgoing>
      <bpmn:script># Store Team Lead comments elsewhere and clear form comments
if isApprovalTimer:
    invoice["commentsProjectLead"] = "No action taken within allotted time"
    approvalComment = ""
    invoice.isProjectLeadApprove = False
    isInvoiceApproved = False
    # Set Invoice Status
    invoice["invoiceStatus"] = "Rejected"
else:
    invoice["commentsProjectLead"] = approvalComment
    approvalComment = ""
    invoice.isProjectLeadApprove = isInvoiceApproved
    # Set Invoice Status
    invoice["invoiceStatus"] = "Approved"</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0fq1nb4" name="5. Create Invoice in Xero">
      <bpmn:extensionElements>
        <spiffworkflow:serviceTaskOperator id="xero/CreateInvoice" resultVariable="resp_xeroCreateInvoice">
          <spiffworkflow:parameters>
            <spiffworkflow:parameter id="access_token" type="any" value="&quot;secret:xero/OAuth&quot;"/>
            <spiffworkflow:parameter id="amount" type="str" value="str(invoice_amount)"/>
            <spiffworkflow:parameter id="contact_email" type="str" value="current_user_extras[&quot;email&quot;]"/>
            <spiffworkflow:parameter id="contact_name" type="str" value="current_user_extras[&quot;full_name&quot;]"/>
            <spiffworkflow:parameter id="description" type="str" value="&quot;Test for now&quot;"/>
          </spiffworkflow:parameters>
        </spiffworkflow:serviceTaskOperator>
        <spiffworkflow:preScript/>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0h96w9j</bpmn:incoming>
      <bpmn:outgoing>Flow_053ca95</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_076hmxy">
        <bpmn:targetRef>DataObjectReference_1g4gzsx</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1b6tead" name="Set Invoice Status to Approved and Awaiting Payment" scriptFormat="python">
      <bpmn:incoming>Flow_053ca95</bpmn:incoming>
      <bpmn:outgoing>Flow_00tndkb</bpmn:outgoing>
      <bpmn:script># Set Invoice Status to Approved and Pending Payment
invoice.invoiceStatus = "Approved and Pending Payment"</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:exclusiveGateway id="Gateway_1ytq6m7" name="Approved?" default="Flow_0h96w9j">
      <bpmn:incoming>Flow_02v6lr2</bpmn:incoming>
      <bpmn:outgoing>Flow_00kky3k</bpmn:outgoing>
      <bpmn:outgoing>Flow_0h96w9j</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="Activity_11stdua" name="Temp Post Script" scriptFormat="python">
      <bpmn:incoming>Flow_09wwily</bpmn:incoming>
      <bpmn:outgoing>Flow_02v6lr2</bpmn:outgoing>
      <bpmn:script>invoice.commentsFinance = approvalComment
approvalComment = ""
# Set Invoice Status
if isInvoiceApproved:
    invoice["invoiceStatus"] = "Approved by Finance Team"
else:
    invoice["invoiceStatus"] = "Rejected by Finance Team"</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:intermediateThrowEvent id="Event_15y55nw" name="Invoice is submitted">
      <bpmn:documentation>Process milestone should update the process metadata field &#8220;milestone reached&#8221;</bpmn:documentation>
      <bpmn:incoming>Flow_04fl87d</bpmn:incoming>
      <bpmn:outgoing>Flow_1ex5hfx</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_1jfb24q" sourceRef="Waku_Message_Pending_Payment" targetRef="Event_1usbnt0"/>
    <bpmn:subProcess id="Waku_Message_Pending_Payment" name="Waku Message: Pending Payment">
      <bpmn:incoming>Flow_00tndkb</bpmn:incoming>
      <bpmn:outgoing>Flow_1jfb24q</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0lf2wuo">
        <bpmn:targetRef>DataObjectReference_0br9o6c</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
      <bpmn:startEvent id="Event_13cibxi">
        <bpmn:outgoing>Flow_1j5eznh</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:callActivity id="Get_Waku_Messages_Message" name="Get Waku Messages: Message" calledElement="Waku_Messages_Message">
        <bpmn:extensionElements>
          <spiffworkflow:preScript>if isMatch:
    task_id = "waku_payment_pending_ismatch"
else:
    task_id = "waku_payment_pending_not_ismatch"

isSetMessage = True</spiffworkflow:preScript>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1j5eznh</bpmn:incoming>
        <bpmn:outgoing>Flow_1w7kqay</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_1w7kqay" sourceRef="Get_Waku_Messages_Message" targetRef="waku_payment_pending"/>
      <bpmn:endEvent id="Event_0fbz176">
        <bpmn:incoming>Flow_1buk0a2</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="waku_payment_pending" name="Waku Message: Notify CC Payment Pending">
        <bpmn:extensionElements>
          <spiffworkflow:serviceTaskOperator id="waku/SendMessage" resultVariable="wr_invoicePayPend">
            <spiffworkflow:parameters>
              <spiffworkflow:parameter id="message" type="str" value="waku_message"/>
              <spiffworkflow:parameter id="message_type" type="str" value="&quot;wakuext_sendOneToOneMessage&quot;"/>
              <spiffworkflow:parameter id="recipient" type="str" value="current_user_extras[&quot;status_key&quot;]"/>
            </spiffworkflow:parameters>
          </spiffworkflow:serviceTaskOperator>
          <spiffworkflow:preScript/>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1w7kqay</bpmn:incoming>
        <bpmn:outgoing>Flow_1buk0a2</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_1buk0a2" sourceRef="waku_payment_pending" targetRef="Event_0fbz176"/>
      <bpmn:scriptTask id="Activity_0iquip7" name="Temp Pre-Script" scriptFormat="python">
        <bpmn:script>if isMatch:
    task_id = "waku_payment_pending_ismatch"
else:
    task_id = "waku_payment_pending_not_ismatch"

isSetMessage = True</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_1j5eznh" sourceRef="Event_13cibxi" targetRef="Get_Waku_Messages_Message"/>
    </bpmn:subProcess>
    <bpmn:endEvent id="Event_1usbnt0">
      <bpmn:incoming>Flow_1jfb24q</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:subProcess id="Activity_0rae8g6" name="Waku Message: Invoice Rejected">
      <bpmn:incoming>Flow_0bfs2xe</bpmn:incoming>
      <bpmn:outgoing>Flow_0c0c9mw</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0b96bb7">
        <bpmn:targetRef>DataObjectReference_1wclgyx</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
      <bpmn:startEvent id="Event_0ialhor">
        <bpmn:outgoing>Flow_14x1v12</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:callActivity id="Activity_0eh4so1" name="Call Waku Messages: Message" calledElement="Waku_Messages_Message">
        <bpmn:extensionElements>
          <spiffworkflow:preScript/>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0umhf4u</bpmn:incoming>
        <bpmn:outgoing>Flow_1wq6gzs</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:endEvent id="Event_0ihhn4w">
        <bpmn:incoming>Flow_01i59kw</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="waku_invoice_rejected" name="3. Notify CC via Waku &quot;invoice rejected&quot;">
        <bpmn:extensionElements>
          <spiffworkflow:serviceTaskOperator id="waku/SendMessage" resultVariable="wr_invoiceRejected">
            <spiffworkflow:parameters>
              <spiffworkflow:parameter id="message" type="str" value="waku_message"/>
              <spiffworkflow:parameter id="message_type" type="str" value="&quot;wakuext_sendOneToOneMessage&quot;"/>
              <spiffworkflow:parameter id="recipient" type="str" value="current_user_extras[&quot;status_key&quot;]"/>
            </spiffworkflow:parameters>
          </spiffworkflow:serviceTaskOperator>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1d0phao</bpmn:incoming>
        <bpmn:outgoing>Flow_01i59kw</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_14x1v12" sourceRef="Event_0ialhor" targetRef="Activity_04kw0jc"/>
      <bpmn:sequenceFlow id="Flow_1wq6gzs" sourceRef="Activity_0eh4so1" targetRef="Activity_03duc95"/>
      <bpmn:sequenceFlow id="Flow_01i59kw" sourceRef="waku_invoice_rejected" targetRef="Event_0ihhn4w"/>
      <bpmn:sequenceFlow id="Flow_0umhf4u" sourceRef="Activity_04kw0jc" targetRef="Activity_0eh4so1"/>
      <bpmn:scriptTask id="Activity_04kw0jc" name="Set Which Message" scriptFormat="python">
        <bpmn:incoming>Flow_14x1v12</bpmn:incoming>
        <bpmn:outgoing>Flow_0umhf4u</bpmn:outgoing>
        <bpmn:script># Set who rejected
if not(invoice.isProjectLeadApprove):
    task_id = "waku_invoice_rejected-Project_Lead"
else:
    task_id = "waku_invoice_rejected-Finance"

# Set Message should not be set
isSetMessage = False</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_1d0phao" sourceRef="Activity_03duc95" targetRef="waku_invoice_rejected"/>
      <bpmn:scriptTask id="Activity_03duc95" name="Set Message" scriptFormat="python">
        <bpmn:incoming>Flow_1wq6gzs</bpmn:incoming>
        <bpmn:outgoing>Flow_1d0phao</bpmn:outgoing>
        <bpmn:script># Set who rejected
if not(invoice.isProjectLeadApprove):
    waku_message = waku_message_body + waku_message_timestamp + waku_message_variables + waku_message_footer
else:
    waku_message = waku_message_body + waku_message_timestamp + waku_message_variables * "\nProject Lead Comments: " + invoice.commentsProjectLead + waku_message_footer</bpmn:script>
      </bpmn:scriptTask>
    </bpmn:subProcess>
    <bpmn:subProcess id="Activity_1kgaqpf" name="Waku Message: Notify Finance">
      <bpmn:incoming>Flow_18xvx8w</bpmn:incoming>
      <bpmn:incoming>Flow_04ccp12</bpmn:incoming>
      <bpmn:outgoing>Flow_1ds4s8o</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_02537rk">
        <bpmn:targetRef>DataObjectReference_0x2dn5o</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
      <bpmn:startEvent id="Event_0k7eiau">
        <bpmn:outgoing>Flow_11zkgke</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:callActivity id="Activity_1wqf9dm" name="Call Waku Messages: Message" calledElement="Waku_Messages_Message">
        <bpmn:extensionElements>
          <spiffworkflow:preScript># Set Task Id
task_id = "waku_notify_finance"

# Set Message should not be set
isSetMessage = True
isInvoiceApproved = ""</spiffworkflow:preScript>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_11zkgke</bpmn:incoming>
        <bpmn:outgoing>Flow_0n3djvs</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:endEvent id="Event_0czwuqb">
        <bpmn:incoming>Flow_0lr2fpj</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="Activity_0ez288q" name="Send Waku Message: Notify Finance">
        <bpmn:extensionElements>
          <spiffworkflow:serviceTaskOperator id="waku/SendMessage" resultVariable="wr_notifyFinance">
            <spiffworkflow:parameters>
              <spiffworkflow:parameter id="message" type="str" value="waku_message"/>
              <spiffworkflow:parameter id="message_type" type="str" value="&quot;wakuext_sendOneToOneMessage&quot;"/>
              <spiffworkflow:parameter id="recipient" type="str" value="current_user_extras[&quot;status_key&quot;]"/>
            </spiffworkflow:parameters>
          </spiffworkflow:serviceTaskOperator>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0n3djvs</bpmn:incoming>
        <bpmn:outgoing>Flow_0lr2fpj</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:scriptTask id="Activity_01g159b" name="Temp Pre-Script" scriptFormat="python">
        <bpmn:script># Set Task Id
task_id = "waku_notify_finance"

# Set Message should not be set
isSetMessage = True
isInvoiceApproved = ""</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_0n3djvs" sourceRef="Activity_1wqf9dm" targetRef="Activity_0ez288q"/>
      <bpmn:sequenceFlow id="Flow_0lr2fpj" sourceRef="Activity_0ez288q" targetRef="Event_0czwuqb"/>
      <bpmn:sequenceFlow id="Flow_11zkgke" sourceRef="Event_0k7eiau" targetRef="Activity_1wqf9dm"/>
    </bpmn:subProcess>
    <bpmn:scriptTask id="Activity_1t8wi0r" name="Waku Message: No Project Lead Response" scriptFormat="python">
      <bpmn:incoming>Flow_1v8dszb</bpmn:incoming>
      <bpmn:outgoing>Flow_1w4cqkv</bpmn:outgoing>
      <bpmn:script># Set Timer Check
isApprovalTimer = True</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:boundaryEvent id="Event_09q0ym0" name="3 days" attachedToRef="Activity_06b32ar">
      <bpmn:outgoing>Flow_1v8dszb</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0cpj4z0">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">timedelta(minutes=1)</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:exclusiveGateway id="Gateway_06i3we9">
      <bpmn:incoming>Flow_0yvmfqu</bpmn:incoming>
      <bpmn:incoming>Flow_1w4cqkv</bpmn:incoming>
      <bpmn:outgoing>Flow_1qf14hx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1qf14hx" sourceRef="Gateway_06i3we9" targetRef="Activity_0faln91"/>
    <bpmn:sequenceFlow id="Flow_1w4cqkv" sourceRef="Activity_1t8wi0r" targetRef="Gateway_06i3we9"/>
    <bpmn:serviceTask id="Activity_175j3o7" name="2c. Save Invoice Data">
      <bpmn:extensionElements>
        <spiffworkflow:serviceTaskOperator id="aws/AddDynamoItem" resultVariable="resp_AddDynamoItem">
          <spiffworkflow:parameters>
            <spiffworkflow:parameter id="item_data" type="str" value="{ &quot;ContributorName&quot;: invoice.contributorName, &quot;ContributorId&quot;: invoice.contributorId, &quot;InvoiceId&quot;: invoice.invoiceId, &quot;InvoiceAmount&quot;: invoice.invoiceAmount, &quot;InvoiceCurrency&quot;: invoice.invoiceCurrency, &quot;DueDate&quot;: invoice.dueDate }"/>
            <spiffworkflow:parameter id="table_name" type="str" value="'Invoice'"/>
          </spiffworkflow:parameters>
        </spiffworkflow:serviceTaskOperator>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0hev3yn</bpmn:incoming>
      <bpmn:outgoing>Flow_02o270g</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:dataObjectReference id="DataObjectReference_0bymrvr" name="enumerations_list" dataObjectRef="enumerations_list"/>
    <bpmn:sequenceFlow id="Flow_17vkjgc" sourceRef="Gateway_0wk5se9" targetRef="Submit_the_invoice"/>
    <bpmn:exclusiveGateway id="Gateway_0wk5se9">
      <bpmn:incoming>Flow_00p30u2</bpmn:incoming>
      <bpmn:incoming>Flow_18cic3h</bpmn:incoming>
      <bpmn:outgoing>Flow_17vkjgc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:callActivity id="Activity_1colhao" name="Call Shared: Build Enum List from AWS" calledElement="Shared_Build_Enum_List_from_AWS">
      <bpmn:extensionElements>
        <spiffworkflow:preScript>whichSubject = "Currency"
addNew = False</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0bipj9q</bpmn:incoming>
      <bpmn:outgoing>Flow_00p30u2</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:dataObjectReference id="DataObjectReference_1ykzuco" name="wr_InvoiceSubmitted" dataObjectRef="wr_InvoiceSubmitted"/>
    <bpmn:dataObjectReference id="DataObjectReference_1wclgyx" name="wr_invoiceRejected" dataObjectRef="wr_invoiceRejected"/>
    <bpmn:dataObject id="wr_notifyFinance"/>
    <bpmn:dataObjectReference id="DataObjectReference_0x2dn5o" name="wr_notifyFinance" dataObjectRef="wr_notifyFinance"/>
    <bpmn:dataObject id="enumerations_list"/>
    <bpmn:dataObject id="resp_xeroCreateInvoice"/>
    <bpmn:dataObject id="wr_invoicePayPend"/>
    <bpmn:dataObjectReference id="DataObjectReference_0br9o6c" name="wr_invoicePayPend" dataObjectRef="wr_invoicePayPend"/>
    <bpmn:dataObject id="wr_invoiceRejected"/>
    <bpmn:dataObjectReference id="DataObjectReference_1g4gzsx" name="resp_xeroCreateInvoice" dataObjectRef="resp_xeroCreateInvoice"/>
    <bpmn:dataObject id="wr_InvoiceSubmitted"/>
    <bpmn:endEvent id="Event_1b58a3z" name="Invoice is rejected by Approver">
      <bpmn:incoming>Flow_0c0c9mw</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:process id="Process_cc_invoice_approval_process_v2_c" isExecutable="false"/>
  <bpmn:process id="Process_cc_invoice_approval_process_v2_d" isExecutable="false"/>
  <bpmn:process id="Process_cc_invoice_approval_process_v2_e" isExecutable="false"/>
  <bpmn:correlationProperty id="CorrelationProperty_Submit_Invoice" name="Correlation Property: Submit Invoice">
    <bpmn:correlationPropertyRetrievalExpression messageRef="Message_Submit_Invoice">
      <bpmn:formalExpression>topica_one</bpmn:formalExpression>
    </bpmn:correlationPropertyRetrievalExpression>
  </bpmn:correlationProperty>
  <bpmn:message id="Message_Submit_Invoice" name="Message: Submit Invoice">
    <bpmn:extensionElements>
      <spiffworkflow:messageVariable>topica_one</spiffworkflow:messageVariable>
      <spiffworkflow:messagePayload>{
"topica_one": "Invoice successfully submitted"
}</spiffworkflow:messagePayload>
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_130jph2">
      <bpmndi:BPMNShape id="Participant_1fsb6gv_di" bpmnElement="Participant_1fsb6gv" isHorizontal="true">
        <dc:Bounds x="280" y="-70" width="4350" height="220"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_11ab2hx_di" bpmnElement="Participant_11ab2hx" isHorizontal="true">
        <dc:Bounds x="280" y="210" width="4350" height="920"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1b7abal_di" bpmnElement="Lane_1b7abal" isHorizontal="true">
        <dc:Bounds x="310" y="800" width="4320" height="212"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1so23vf_di" bpmnElement="Lane_1so23vf" isHorizontal="true">
        <dc:Bounds x="310" y="1012" width="4320" height="118"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1a0qu8e_di" bpmnElement="Lane_1a0qu8e" isHorizontal="true">
        <dc:Bounds x="310" y="210" width="4320" height="590"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1h7igan_di" bpmnElement="Submit_the_invoice">
        <dc:Bounds x="985" y="482" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0wt7ine_di" bpmnElement="Gateway_validation_successful_question_mark" isMarkerVisible="true">
        <dc:Bounds x="1345" y="497" width="50" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1340" y="557" width="60" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0z13hw3_di" bpmnElement="SubProcess_Data_validation_rules">
        <dc:Bounds x="1170" y="482" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qtkhpi_di" bpmnElement="Activity_show_errors">
        <dc:Bounds x="1080" y="320" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0svbvjn_di" bpmnElement="Event_invoice_validation_failed">
        <dc:Bounds x="1352" y="412" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1262" y="411" width="85" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_193pz3d_di" bpmnElement="Activity_1u89kok">
        <dc:Bounds x="510" y="480" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1r3yh2k_di" bpmnElement="Event_1r3yh2k">
        <dc:Bounds x="402" y="502" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_10gbs8m_di" bpmnElement="Gateway_05ov5p5">
        <dc:Bounds x="1605" y="497" width="50" height="50"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zssftc_di" bpmnElement="Activity_0p88elm">
        <dc:Bounds x="1880" y="560" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0bgyf4i_di" bpmnElement="Activity_104xpp8">
        <dc:Bounds x="1670" y="560" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08ykqm8_di" bpmnElement="Activity_109lq0m">
        <dc:Bounds x="1450" y="482" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1xg4kby_di" bpmnElement="Activity_10p5t0r">
        <dc:Bounds x="2130" y="482" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_05ztwup_di" bpmnElement="Gateway_1717c0p">
        <dc:Bounds x="2004" y="495" width="50" height="50"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1xkyv08_di" bpmnElement="Activity_0gkpa9s">
        <dc:Bounds x="2280" y="482" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1lbghql_di" bpmnElement="Gateway_1lbghql" isMarkerVisible="true">
        <dc:Bounds x="2674" y="497" width="50" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2730" y="513" width="37" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0x83ruk_di" bpmnElement="Event_0x83ruk">
        <dc:Bounds x="2731" y="394" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2709" y="358" width="81" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0m3ri6v_di" bpmnElement="Event_0m3ri6v">
        <dc:Bounds x="2731" y="582" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2722" y="625" width="57" height="40"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1l4tz4i_di" bpmnElement="Gateway_1l4tz4i" isMarkerVisible="true">
        <dc:Bounds x="3475" y="387" width="50" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3423" y="383" width="54" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05nao2p_di" bpmnElement="Activity_06b32ar">
        <dc:Bounds x="2990" y="820" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xwniza_di" bpmnElement="Activity_0cdgqi0">
        <dc:Bounds x="3450" y="1030" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1rn2mgi_di" bpmnElement="Activity_0gkejaj">
        <dc:Bounds x="2519" y="482" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0j807g0_di" bpmnElement="Activity_1ucvkk4">
        <dc:Bounds x="2990" y="372" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1vzea12_di" bpmnElement="Activity_0faln91">
        <dc:Bounds x="3310" y="670" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ejn04g_di" bpmnElement="Activity_0fq1nb4">
        <dc:Bounds x="4020" y="560" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0pne05v_di" bpmnElement="Activity_1b6tead">
        <dc:Bounds x="4190" y="560" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ytq6m7_di" bpmnElement="Gateway_1ytq6m7" isMarkerVisible="true">
        <dc:Bounds x="3735" y="1045" width="50" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3733" y="1102" width="54" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1j1zo4f_di" bpmnElement="Activity_11stdua">
        <dc:Bounds x="3590" y="1030" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_15y55nw_di" bpmnElement="Event_15y55nw">
        <dc:Bounds x="2432" y="504" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2426" y="547" width="48" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1tlgf7q_di" bpmnElement="Waku_Message_Pending_Payment">
        <dc:Bounds x="4360" y="560" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1usbnt0_di" bpmnElement="Event_1usbnt0">
        <dc:Bounds x="4522" y="582" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0n0ue58_di" bpmnElement="Activity_0rae8g6">
        <dc:Bounds x="3450" y="260" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1tb6ao6_di" bpmnElement="Activity_1kgaqpf">
        <dc:Bounds x="3450" y="560" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1pu369y_di" bpmnElement="Activity_1t8wi0r">
        <dc:Bounds x="3160" y="898" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_06i3we9_di" bpmnElement="Gateway_06i3we9" isMarkerVisible="true">
        <dc:Bounds x="3335" y="835" width="50" height="50"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hpp8tn_di" bpmnElement="Activity_175j3o7">
        <dc:Bounds x="1750" y="372" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_0bymrvr_di" bpmnElement="DataObjectReference_0bymrvr">
        <dc:Bounds x="1252" y="645" width="36" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1227" y="685" width="87" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0wk5se9_di" bpmnElement="Gateway_0wk5se9" isMarkerVisible="true">
        <dc:Bounds x="865" y="497" width="50" height="50"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_13dc2qg_di" bpmnElement="Activity_1colhao">
        <dc:Bounds x="690" y="482" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_1ykzuco_di" bpmnElement="DataObjectReference_1ykzuco">
        <dc:Bounds x="2402" y="375" width="36" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2376" y="428" width="87" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_1wclgyx_di" bpmnElement="DataObjectReference_1wclgyx">
        <dc:Bounds x="3332" y="235" width="36" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3308" y="281" width="84" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_0x2dn5o_di" bpmnElement="DataObjectReference_0x2dn5o">
        <dc:Bounds x="3602" y="505" width="36" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3578" y="551" width="84" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_0br9o6c_di" bpmnElement="DataObjectReference_0br9o6c">
        <dc:Bounds x="4312" y="705" width="36" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4288" y="751" width="85" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_1g4gzsx_di" bpmnElement="DataObjectReference_1g4gzsx">
        <dc:Bounds x="4122" y="445" width="36" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4097" y="491" width="85" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1b58a3z_di" bpmnElement="Event_1b58a3z">
        <dc:Bounds x="3622" y="282" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3616" y="325" width="54" height="40"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_08bsj2m_di" bpmnElement="Event_09q0ym0">
        <dc:Bounds x="3052" y="882" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3023" y="913" width="33" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1x4rtop_di" bpmnElement="Flow_1x4rtop">
        <di:waypoint x="1395" y="522"/>
        <di:waypoint x="1450" y="522"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1407" y="498" width="18" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05ffq52_di" bpmnElement="Flow_05ffq52">
        <di:waypoint x="1370" y="497"/>
        <di:waypoint x="1370" y="448"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1378" y="475" width="15" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1c5u447_di" bpmnElement="Flow_1c5u447">
        <di:waypoint x="2619" y="522"/>
        <di:waypoint x="2674" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gohkts_di" bpmnElement="Flow_1gohkts">
        <di:waypoint x="2699" y="547"/>
        <di:waypoint x="2699" y="600"/>
        <di:waypoint x="2731" y="600"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2706" y="570" width="18" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18xvx8w_di" bpmnElement="Flow_18xvx8w">
        <di:waypoint x="3500" y="437"/>
        <di:waypoint x="3500" y="560"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3507" y="496" width="18" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ex5hfx_di" bpmnElement="Flow_1ex5hfx">
        <di:waypoint x="2468" y="522"/>
        <di:waypoint x="2519" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16bw9hx_di" bpmnElement="Flow_16bw9hx">
        <di:waypoint x="2699" y="497"/>
        <di:waypoint x="2699" y="412"/>
        <di:waypoint x="2731" y="412"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2707" y="454" width="15" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0bfs2xe_di" bpmnElement="Flow_0bfs2xe">
        <di:waypoint x="3500" y="387"/>
        <di:waypoint x="3500" y="340"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3512" y="363" width="15" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0c0c9mw_di" bpmnElement="Flow_0c0c9mw">
        <di:waypoint x="3550" y="300"/>
        <di:waypoint x="3622" y="300"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13ng1f4_di" bpmnElement="Flow_13ng1f4">
        <di:waypoint x="1370" y="412"/>
        <di:waypoint x="1370" y="360"/>
        <di:waypoint x="1180" y="360"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18cic3h_di" bpmnElement="Flow_18cic3h">
        <di:waypoint x="1080" y="360"/>
        <di:waypoint x="890" y="360"/>
        <di:waypoint x="890" y="497"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02moyg7_di" bpmnElement="Flow_02moyg7">
        <di:waypoint x="1085" y="522"/>
        <di:waypoint x="1170" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ck27i7_di" bpmnElement="Flow_1ck27i7">
        <di:waypoint x="1270" y="522"/>
        <di:waypoint x="1345" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1v8dszb_di" bpmnElement="Flow_1v8dszb">
        <di:waypoint x="3070" y="918"/>
        <di:waypoint x="3070" y="938"/>
        <di:waypoint x="3160" y="938"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yvmfqu_di" bpmnElement="Flow_0yvmfqu">
        <di:waypoint x="3090" y="860"/>
        <di:waypoint x="3335" y="860"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12cqm3u_di" bpmnElement="Flow_12cqm3u">
        <di:waypoint x="1630" y="547"/>
        <di:waypoint x="1630" y="600"/>
        <di:waypoint x="1670" y="600"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0hev3yn_di" bpmnElement="Flow_0hev3yn">
        <di:waypoint x="1630" y="497"/>
        <di:waypoint x="1630" y="412"/>
        <di:waypoint x="1750" y="412"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02o270g_di" bpmnElement="Flow_02o270g">
        <di:waypoint x="1850" y="412"/>
        <di:waypoint x="2029" y="412"/>
        <di:waypoint x="2029" y="495"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0o94g4u_di" bpmnElement="Flow_0o94g4u">
        <di:waypoint x="1980" y="600"/>
        <di:waypoint x="2029" y="600"/>
        <di:waypoint x="2029" y="545"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vxagrf_di" bpmnElement="Flow_1vxagrf">
        <di:waypoint x="438" y="520"/>
        <di:waypoint x="510" y="520"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0bipj9q_di" bpmnElement="Flow_0bipj9q">
        <di:waypoint x="610" y="520"/>
        <di:waypoint x="690" y="520"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04ccp12_di" bpmnElement="Flow_04ccp12">
        <di:waypoint x="2767" y="600"/>
        <di:waypoint x="3450" y="600"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kngdw4_di" bpmnElement="Flow_0kngdw4">
        <di:waypoint x="2767" y="412"/>
        <di:waypoint x="2990" y="412"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lfqk0y_di" bpmnElement="Flow_0lfqk0y">
        <di:waypoint x="3040" y="452"/>
        <di:waypoint x="3040" y="820"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ds4s8o_di" bpmnElement="Flow_1ds4s8o">
        <di:waypoint x="3500" y="640"/>
        <di:waypoint x="3500" y="1030"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09wwily_di" bpmnElement="Flow_09wwily">
        <di:waypoint x="3550" y="1070"/>
        <di:waypoint x="3590" y="1070"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00kky3k_di" bpmnElement="Flow_00kky3k">
        <di:waypoint x="3760" y="1045"/>
        <di:waypoint x="3760" y="412"/>
        <di:waypoint x="3525" y="412"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3768" y="913" width="15" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0h96w9j_di" bpmnElement="Flow_0h96w9j">
        <di:waypoint x="3785" y="1070"/>
        <di:waypoint x="3900" y="1070"/>
        <di:waypoint x="3900" y="600"/>
        <di:waypoint x="4020" y="600"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3828" y="1053" width="18" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_053ca95_di" bpmnElement="Flow_053ca95">
        <di:waypoint x="4120" y="600"/>
        <di:waypoint x="4190" y="600"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p6vvu0_di" bpmnElement="Flow_0p6vvu0">
        <di:waypoint x="1770" y="600"/>
        <di:waypoint x="1880" y="600"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00p30u2_di" bpmnElement="Flow_00p30u2">
        <di:waypoint x="790" y="522"/>
        <di:waypoint x="865" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0u5z1vc_di" bpmnElement="Flow_0u5z1vc">
        <di:waypoint x="1550" y="522"/>
        <di:waypoint x="1605" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0a9w301_di" bpmnElement="Flow_0a9w301">
        <di:waypoint x="2054" y="520"/>
        <di:waypoint x="2130" y="520"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0h1x7y6_di" bpmnElement="Flow_0h1x7y6">
        <di:waypoint x="2230" y="522"/>
        <di:waypoint x="2280" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15pzvrr_di" bpmnElement="Flow_15pzvrr">
        <di:waypoint x="3360" y="670"/>
        <di:waypoint x="3360" y="412"/>
        <di:waypoint x="3475" y="412"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00tndkb_di" bpmnElement="Flow_00tndkb">
        <di:waypoint x="4290" y="600"/>
        <di:waypoint x="4360" y="600"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02v6lr2_di" bpmnElement="Flow_02v6lr2">
        <di:waypoint x="3690" y="1070"/>
        <di:waypoint x="3735" y="1070"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04fl87d_di" bpmnElement="Flow_04fl87d">
        <di:waypoint x="2380" y="522"/>
        <di:waypoint x="2432" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jfb24q_di" bpmnElement="Flow_1jfb24q">
        <di:waypoint x="4460" y="600"/>
        <di:waypoint x="4522" y="600"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qf14hx_di" bpmnElement="Flow_1qf14hx">
        <di:waypoint x="3360" y="835"/>
        <di:waypoint x="3360" y="750"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1w4cqkv_di" bpmnElement="Flow_1w4cqkv">
        <di:waypoint x="3260" y="938"/>
        <di:waypoint x="3360" y="938"/>
        <di:waypoint x="3360" y="885"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17vkjgc_di" bpmnElement="Flow_17vkjgc">
        <di:waypoint x="915" y="522"/>
        <di:waypoint x="985" y="522"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0a8arrz_di" bpmnElement="Participant_0a8arrz" isHorizontal="true">
        <dc:Bounds x="1480" y="1180" width="370" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1qabwrg_di" bpmnElement="Participant_1qabwrg" isHorizontal="true">
        <dc:Bounds x="1890" y="1180" width="629" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0b27sri_di" bpmnElement="Participant_0b27sri" isHorizontal="true">
        <dc:Bounds x="3345" y="1160" width="747" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1uaw1w7_di" bpmnElement="TextAnnotation_1uaw1w7">
        <dc:Bounds x="640" y="-170" width="580" height="30"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1topzui_di" bpmnElement="DataOutputAssociation_1topzui">
        <di:waypoint x="1233" y="562"/>
        <di:waypoint x="1261" y="645"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_04ohdyt_di" bpmnElement="DataOutputAssociation_04ohdyt">
        <di:waypoint x="2361" y="482"/>
        <di:waypoint x="2406" y="425"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_076hmxy_di" bpmnElement="DataOutputAssociation_076hmxy">
        <di:waypoint x="4091" y="560"/>
        <di:waypoint x="4125" y="495"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0lf2wuo_di" bpmnElement="DataOutputAssociation_0lf2wuo">
        <di:waypoint x="4385" y="640"/>
        <di:waypoint x="4344" y="705"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0b96bb7_di" bpmnElement="DataOutputAssociation_0b96bb7">
        <di:waypoint x="3450" y="285"/>
        <di:waypoint x="3368" y="261"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_02537rk_di" bpmnElement="DataOutputAssociation_02537rk">
        <di:waypoint x="3550" y="569"/>
        <di:waypoint x="3602" y="537"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1eygti7_di" bpmnElement="Association_1eygti7">
        <di:waypoint x="906" y="-70"/>
        <di:waypoint x="973" y="-140"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ppupld_di" bpmnElement="Flow_0ppupld">
        <di:waypoint x="1800" y="452"/>
        <di:waypoint x="1800" y="1180"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yfnc92_di" bpmnElement="Flow_0yfnc92">
        <di:waypoint x="1930" y="640"/>
        <di:waypoint x="1930" y="1180"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0jciftq_di" bpmnElement="Flow_0jciftq">
        <di:waypoint x="2330" y="480"/>
        <di:waypoint x="2330" y="150"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p0bc5u_di" bpmnElement="Flow_0p0bc5u">
        <di:waypoint x="4070" y="640"/>
        <di:waypoint x="4070" y="1160"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0n9qxyw_di" bpmnElement="Flow_0n9qxyw">
        <di:waypoint x="1010" y="482"/>
        <di:waypoint x="1010" y="150"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="660" y="312" width="73" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1getkzr_di" bpmnElement="Flow_1getkzr">
        <di:waypoint x="3500" y="260"/>
        <di:waypoint x="3500" y="150"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dgkwzr_di" bpmnElement="Flow_1dgkwzr">
        <di:waypoint x="4410" y="560"/>
        <di:waypoint x="4410" y="150"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="Activity_0gkejaj">
      <bpmndi:BPMNShape id="Event_0w5o6hr_di" bpmnElement="Event_0w5o6hr">
        <dc:Bounds x="-48" y="372" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08gpeul_di" bpmnElement="Activity_1yhwhps">
        <dc:Bounds x="680" y="350" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fzlb0w_di" bpmnElement="Activity_02go8ec">
        <dc:Bounds x="210" y="350" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1f5dpwy_di" bpmnElement="Activity_0b87ocm">
        <dc:Bounds x="520" y="350" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0cmri19_di" bpmnElement="Event_0cmri19">
        <dc:Bounds x="842" y="372" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0x1ak9n_di" bpmnElement="Activity_1k25w3x">
        <dc:Bounds x="360" y="350" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0emlo6d_di" bpmnElement="Activity_0mcykih">
        <dc:Bounds x="50" y="350" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1sc1v4y_di" bpmnElement="Flow_1sc1v4y">
        <di:waypoint x="-12" y="390"/>
        <di:waypoint x="50" y="390"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m8uxeg_di" bpmnElement="Flow_1m8uxeg">
        <di:waypoint x="620" y="390"/>
        <di:waypoint x="680" y="390"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04do8x7_di" bpmnElement="Flow_04do8x7">
        <di:waypoint x="780" y="390"/>
        <di:waypoint x="842" y="390"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nxzc38_di" bpmnElement="Flow_0nxzc38">
        <di:waypoint x="310" y="390"/>
        <di:waypoint x="360" y="390"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xtzqkg_di" bpmnElement="Flow_0xtzqkg">
        <di:waypoint x="460" y="390"/>
        <di:waypoint x="520" y="390"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02g4qn2_di" bpmnElement="Flow_02g4qn2">
        <di:waypoint x="150" y="390"/>
        <di:waypoint x="210" y="390"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="Activity_1ucvkk4">
      <bpmndi:BPMNShape id="Gateway_1l74xlc_di" bpmnElement="Gateway_1l74xlc" isMarkerVisible="true">
        <dc:Bounds x="245" y="215" width="50" height="50"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_01bnz9l_di" bpmnElement="Activity_1w6kg4p">
        <dc:Bounds x="360" y="200" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0respgl_di" bpmnElement="Activity_0respgl">
        <dc:Bounds x="490" y="90" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1vl3ipe_di" bpmnElement="Gateway_1vl3ipe" isMarkerVisible="true">
        <dc:Bounds x="625" y="215" width="50" height="50"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_00px1yx_di" bpmnElement="Event_00px1yx">
        <dc:Bounds x="-408" y="402" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1nkaxn4_di" bpmnElement="Event_1nkaxn4">
        <dc:Bounds x="782" y="402" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1gex892_di" bpmnElement="Activity_00b66gy">
        <dc:Bounds x="160" y="380" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0s32al0_di" bpmnElement="Activity_1ve0iqu">
        <dc:Bounds x="630" y="380" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mxxp3b_di" bpmnElement="Call_Waku_Messages_Message-Notify_Proejct_Lead">
        <dc:Bounds x="470" y="380" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_02v8rpk_di" bpmnElement="Activity_1jtcvfx">
        <dc:Bounds x="310" y="380" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0iy0fil_di" bpmnElement="Activity_1982sk7">
        <dc:Bounds x="-290" y="380" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0plejcc_di" bpmnElement="Activity_1nyfxna">
        <dc:Bounds x="30" y="380" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1lm44ee_di" bpmnElement="Activity_1r3o0bm">
        <dc:Bounds x="-140" y="380" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1am9jcz_di" bpmnElement="Flow_1am9jcz">
        <di:waypoint x="295" y="240"/>
        <di:waypoint x="360" y="240"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kx6gsl_di" bpmnElement="Flow_0kx6gsl">
        <di:waypoint x="270" y="215"/>
        <di:waypoint x="270" y="130"/>
        <di:waypoint x="490" y="130"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rbij5a_di" bpmnElement="Flow_0rbij5a">
        <di:waypoint x="460" y="240"/>
        <di:waypoint x="625" y="240"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lyg5zb_di" bpmnElement="Flow_0lyg5zb">
        <di:waypoint x="590" y="130"/>
        <di:waypoint x="650" y="130"/>
        <di:waypoint x="650" y="215"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0phvbsa_di" bpmnElement="Flow_0phvbsa">
        <di:waypoint x="260" y="420"/>
        <di:waypoint x="310" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0t3n7bd_di" bpmnElement="Flow_0t3n7bd">
        <di:waypoint x="410" y="420"/>
        <di:waypoint x="470" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0re50gq_di" bpmnElement="Flow_0re50gq">
        <di:waypoint x="570" y="420"/>
        <di:waypoint x="630" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0y37dgj_di" bpmnElement="Flow_0y37dgj">
        <di:waypoint x="730" y="420"/>
        <di:waypoint x="782" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dvboik_di" bpmnElement="Flow_0dvboik">
        <di:waypoint x="-372" y="420"/>
        <di:waypoint x="-290" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03mru8z_di" bpmnElement="Flow_03mru8z">
        <di:waypoint x="130" y="420"/>
        <di:waypoint x="160" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01ki4jt_di" bpmnElement="Flow_01ki4jt">
        <di:waypoint x="-190" y="420"/>
        <di:waypoint x="-140" y="420"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lbdhwm_di" bpmnElement="Flow_1lbdhwm">
        <di:waypoint x="-40" y="420"/>
        <di:waypoint x="30" y="420"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_0e5tdrz">
    <bpmndi:BPMNPlane id="BPMNPlane_04v9fws" bpmnElement="SubProcess_Data_validation_rules">
      <bpmndi:BPMNShape id="Event_1qkuk5g_di" bpmnElement="Event_1qkuk5g">
        <dc:Bounds x="232" y="192" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05nw8eq_di" bpmnElement="Activity_Check_Due_Date">
        <dc:Bounds x="840" y="170" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_015l7j8_di" bpmnElement="Event_015l7j8">
        <dc:Bounds x="1182" y="192" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ynnab7_di" bpmnElement="Activity_check_contributor_name">
        <dc:Bounds x="340" y="170" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_07pdvk2_di" bpmnElement="Activity_check_invoice_amount">
        <dc:Bounds x="510" y="170" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1l7rl3o_di" bpmnElement="Activity_check_validation_rules">
        <dc:Bounds x="1020" y="170" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fc4t79_di" bpmnElement="Activity_call_local_date_and_time">
        <dc:Bounds x="670" y="170" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1avkxpe_di" bpmnElement="Flow_1avkxpe">
        <di:waypoint x="268" y="210"/>
        <di:waypoint x="340" y="210"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tzjowk_di" bpmnElement="Flow_0tzjowk">
        <di:waypoint x="1120" y="210"/>
        <di:waypoint x="1182" y="210"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18i6dlo_di" bpmnElement="Flow_18i6dlo">
        <di:waypoint x="770" y="210"/>
        <di:waypoint x="840" y="210"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d7sgm2_di" bpmnElement="Flow_1d7sgm2">
        <di:waypoint x="940" y="210"/>
        <di:waypoint x="1020" y="210"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mvmd06_di" bpmnElement="Flow_0mvmd06">
        <di:waypoint x="440" y="210"/>
        <di:waypoint x="510" y="210"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wp2mcf_di" bpmnElement="Flow_0wp2mcf">
        <di:waypoint x="610" y="210"/>
        <di:waypoint x="670" y="210"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1wh5lkq">
    <bpmndi:BPMNPlane id="BPMNPlane_1b2zhk5" bpmnElement="Activity_0gkpa9s">
      <bpmndi:BPMNShape id="Event_0a4hscg_di" bpmnElement="Event_0a4hscg">
        <dc:Bounds x="402" y="192" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0xohu5m_di" bpmnElement="Event_0xohu5m">
        <dc:Bounds x="832" y="192" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0pcr7bl" bpmnElement="Activity_1fsffcq">
        <dc:Bounds x="680" y="170" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17rdv3g_di" bpmnElement="Call_Waku_Messages_Message">
        <dc:Bounds x="510" y="170" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_17xbb2s_di" bpmnElement="Flow_17xbb2s">
        <di:waypoint x="780" y="210"/>
        <di:waypoint x="832" y="210"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j4xxzp_di" bpmnElement="Flow_0j4xxzp">
        <di:waypoint x="610" y="210"/>
        <di:waypoint x="680" y="210"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1yktpsd_di" bpmnElement="Flow_1yktpsd">
        <di:waypoint x="438" y="210"/>
        <di:waypoint x="510" y="210"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_03yq39k">
    <bpmndi:BPMNPlane id="BPMNPlane_19vekoo" bpmnElement="Waku_Message_Pending_Payment">
      <bpmndi:BPMNShape id="Event_13cibxi_di" bpmnElement="Event_13cibxi">
        <dc:Bounds x="72" y="162" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0848qfu_di" bpmnElement="Get_Waku_Messages_Message">
        <dc:Bounds x="340" y="140" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0fbz176_di" bpmnElement="Event_0fbz176">
        <dc:Bounds x="702" y="162" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0h6o7ep" bpmnElement="waku_payment_pending">
        <dc:Bounds x="530" y="140" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0tevtzs_di" bpmnElement="Activity_0iquip7">
        <dc:Bounds x="170" y="300" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1w7kqay_di" bpmnElement="Flow_1w7kqay">
        <di:waypoint x="440" y="180"/>
        <di:waypoint x="530" y="180"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1buk0a2_di" bpmnElement="Flow_1buk0a2">
        <di:waypoint x="630" y="180"/>
        <di:waypoint x="702" y="180"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1j5eznh_di" bpmnElement="Flow_1j5eznh">
        <di:waypoint x="108" y="180"/>
        <di:waypoint x="340" y="180"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_0pf7nxs">
    <bpmndi:BPMNPlane id="BPMNPlane_0obk4d1" bpmnElement="Activity_0rae8g6">
      <bpmndi:BPMNShape id="BPMNShape_0md80al" bpmnElement="Event_0ialhor">
        <dc:Bounds x="-38" y="202" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0u0hy9z" bpmnElement="Activity_0eh4so1">
        <dc:Bounds x="250" y="180" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_06ie9hh" bpmnElement="Event_0ihhn4w">
        <dc:Bounds x="762" y="202" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1lk7fz8" bpmnElement="waku_invoice_rejected">
        <dc:Bounds x="600" y="180" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0py9spx_di" bpmnElement="Activity_04kw0jc">
        <dc:Bounds x="70" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08c60j8_di" bpmnElement="Activity_03duc95">
        <dc:Bounds x="430" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_04mzj46" bpmnElement="Flow_14x1v12">
        <di:waypoint x="-2" y="220"/>
        <di:waypoint x="70" y="220"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0j3b6zk" bpmnElement="Flow_1wq6gzs">
        <di:waypoint x="350" y="220"/>
        <di:waypoint x="430" y="220"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_16ht4ok" bpmnElement="Flow_01i59kw">
        <di:waypoint x="700" y="220"/>
        <di:waypoint x="762" y="220"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0umhf4u_di" bpmnElement="Flow_0umhf4u">
        <di:waypoint x="170" y="220"/>
        <di:waypoint x="250" y="220"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d0phao_di" bpmnElement="Flow_1d0phao">
        <di:waypoint x="530" y="220"/>
        <di:waypoint x="600" y="220"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1vlf9fh">
    <bpmndi:BPMNPlane id="BPMNPlane_0pej8du" bpmnElement="Activity_1kgaqpf">
      <bpmndi:BPMNShape id="BPMNShape_1r0xe85" bpmnElement="Event_0k7eiau">
        <dc:Bounds x="172" y="222" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0brjin6" bpmnElement="Activity_1wqf9dm">
        <dc:Bounds x="460" y="200" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1kkvray" bpmnElement="Event_0czwuqb">
        <dc:Bounds x="882" y="222" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0x5xk93" bpmnElement="Activity_0ez288q">
        <dc:Bounds x="660" y="200" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_13jsep6" bpmnElement="Activity_01g159b">
        <dc:Bounds x="280" y="320" width="100" height="80"/>
        <bpmndi:BPMNLabel/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_1d397qp" bpmnElement="Flow_0n3djvs">
        <di:waypoint x="560" y="240"/>
        <di:waypoint x="660" y="240"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0u6zjo7" bpmnElement="Flow_0lr2fpj">
        <di:waypoint x="760" y="240"/>
        <di:waypoint x="882" y="240"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11zkgke_di" bpmnElement="Flow_11zkgke">
        <di:waypoint x="208" y="240"/>
        <di:waypoint x="460" y="240"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>